{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/AccountInfo.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport '../../App.css';\nimport '../../Styles/Account.css';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from '../../contexts/User';\nimport axios from 'axios';\n\nfunction AccountInfo(props) {\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const [tabId, setTabId] = useState(1);\n  const [userFullName, setUserFullName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userOldPassword, setUserOldPassword] = useState(\"\");\n  const [userNewPassword, setUserNewPassword] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  useEffect(() => {\n    setUserFullName(userInfo.userFullName);\n    setUserEmail(userInfo.userEmail);\n    setUserAvt(userInfo.userAvt || \"https://scontent-sin6-1.xx.fbcdn.net/v/t1.0-9/73321413_146697059956770_7174055866474168320_n.jpg?_nc_cat=107&ccb=2&_nc_sid=09cbfe&_nc_ohc=ni-Cr2_KyP0AX-BfQkv&_nc_ht=scontent-sin6-1.xx&oh=9cbda6699093e8dbb061a92c5bb58c7e&oe=5FCB1CFC\");\n  }, []);\n\n  const submitInfo = event => {\n    event.preventDefault();\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    const formData = new FormData();\n    const imageArr = Array.from(file);\n    imageArr.forEach(image => {\n      formData.append('userAvt', image);\n    });\n    formData.append(\"userFullName\", userFullName);\n    formData.append(\"userEmail\", userEmail);\n    formData.append(\"userPassword\", userNewPassword);\n    axios.post(`http://localhost:4000/users/update/${userInfo._id}`, formData, config);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"AccountInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-container flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-avt flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderRadius: '50%'\n    },\n    className: \"accountinfo-avt-img\",\n    src: userAvt,\n    alt: \"\",\n    width: \"48px\",\n    height: \"48px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-avt-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, userInfo.userName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-menu-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 1 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => setTabId(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"My account\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 2 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => setTabId(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Orders\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 4 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => setTabId(3),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Log out\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, tabId === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, \"Account Infomation\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, \"Manage account information for account security\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-body flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitInfo,\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-body2 flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 49\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 49\n    }\n  }, userInfo.userName)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 49\n    }\n  }, \"Full name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"fullname\",\n    value: userFullName,\n    onChange: event => {\n      setUserFullName(event.target.value);\n    },\n    value: userFullName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 49\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"email\",\n    value: userEmail,\n    onChange: event => {\n      setUserEmail(event.target.value);\n    },\n    value: userEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 49\n    }\n  }, \"Old password\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"input\",\n    name: \"email\",\n    value: userOldPassword,\n    onChange: event => {\n      setUserOldPassword(event.target.value);\n    },\n    value: userOldPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 49\n    }\n  }, \"New password\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"input\",\n    name: \"email\",\n    value: userNewPassword,\n    onChange: event => {\n      setUserNewPassword(event.target.value);\n    },\n    value: userNewPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 53\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-editavt flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderRadius: '50%'\n    },\n    className: \"accountinfo-editavt-img\",\n    src: userAvt,\n    alt: \"\",\n    width: \"100px\",\n    height: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      const files = event.target.files;\n\n      for (let i = 0; i < files.length; i++) {\n        setUserAvt(URL.createObjectURL(files[i]));\n      }\n\n      const fileArr = Array.prototype.slice.call(files);\n      fileArr.forEach(item => {\n        setFile(file => [...file, item]);\n      });\n    },\n    type: \"file\",\n    name: \"avatar\",\n    className: \"accountinfo-editavt-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-btn-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"accountinfo-btn btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 41\n    }\n  }, \"Save\"))))), tabId === 2 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"2\"), tabId === 3 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, \"3\"))));\n}\n\nexport default withRouter(AccountInfo);","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/AccountInfo.js"],"names":["React","useContext","useEffect","useState","withRouter","UserContext","axios","AccountInfo","props","userInfo","tabId","setTabId","userFullName","setUserFullName","userEmail","setUserEmail","userOldPassword","setUserOldPassword","userNewPassword","setUserNewPassword","userAvt","setUserAvt","file","setFile","submitInfo","event","preventDefault","config","headers","formData","FormData","imageArr","Array","from","forEach","image","append","post","_id","borderRadius","userName","target","value","files","i","length","URL","createObjectURL","fileArr","prototype","slice","call","item"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport '../../App.css';\nimport '../../Styles/Account.css'\nimport {\n    withRouter\n} from 'react-router-dom'\nimport { UserContext } from '../../contexts/User'\nimport axios from 'axios'\n\nfunction AccountInfo(props) {\n\n    const { \n        userInfo\n    } = useContext(UserContext);\n\n    const [tabId, setTabId] = useState(1);\n    const [userFullName, setUserFullName] = useState(\"\")\n    const [userEmail, setUserEmail] = useState(\"\")\n    const [userOldPassword, setUserOldPassword] = useState(\"\")\n    const [userNewPassword, setUserNewPassword] = useState(\"\")\n    const [userAvt, setUserAvt] = useState(\"\")\n    const [file, setFile] = useState(\"\")\n\n    useEffect(()=>{\n        setUserFullName(userInfo.userFullName)\n        setUserEmail(userInfo.userEmail)\n        setUserAvt(userInfo.userAvt || \"https://scontent-sin6-1.xx.fbcdn.net/v/t1.0-9/73321413_146697059956770_7174055866474168320_n.jpg?_nc_cat=107&ccb=2&_nc_sid=09cbfe&_nc_ohc=ni-Cr2_KyP0AX-BfQkv&_nc_ht=scontent-sin6-1.xx&oh=9cbda6699093e8dbb061a92c5bb58c7e&oe=5FCB1CFC\")\n    },[])\n\n    const submitInfo = (event) => {\n        event.preventDefault()\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n\n        const formData = new FormData();\n        const imageArr = Array.from(file);\n        imageArr.forEach(image => {\n            formData.append('userAvt', image);\n        });\n        formData.append(\"userFullName\", userFullName);\n        formData.append(\"userEmail\", userEmail);\n        formData.append(\"userPassword\", userNewPassword);\n        axios.post(`http://localhost:4000/users/update/${userInfo._id}`, formData, config)\n    }\n\n    return(\n        <div className='AccountInfo'>\n            <div className=\"accountinfo-container flex\">\n                <div className=\"accountinfo-menu\">\n                    <div className=\"accountinfo-avt flex\">\n                        <img \n                            style={{borderRadius: '50%'}}\n                            className=\"accountinfo-avt-img\"\n                            src={userAvt} \n                            alt=\"\"\n                            width=\"48px\"\n                            height=\"48px\"\n                        ></img>\n                        <div className=\"accountinfo-avt-name\">\n                            {userInfo.userName}\n                        </div>\n                    </div>\n                    <div className=\"accountinfo-menu-list\">\n                        <div \n                            className={tabId === 1 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \n                            onClick={()=> setTabId(1)}>My account</div>\n                        <div \n                            className={tabId === 2 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \n                            onClick={()=> setTabId(2)}>Orders</div>\n                        <div \n                            className={tabId === 4 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"}  \n                            onClick={()=> setTabId(3)}>Log out</div>\n                    </div>\n                </div>\n                <div className=\"accountinfo-main\">\n                    {\n                        tabId === 1 && \n                        <div>\n                            <div className=\"accountinfo-title\">\n                                <p>Account Infomation</p>\n                                <p>Manage account information for account security</p>\n                            </div>\n                            <div className=\"accountinfo-body flex\">\n                                <form onSubmit={submitInfo} encType=\"multipart/form-data\" >\n                                    <div className=\"accountinfo-body2 flex\">\n                                        <table>\n                                            <tr>\n                                                <td>Username</td>\n                                                <td>\n                                                    {userInfo.userName}\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Full name</td>\n                                                <td>\n                                                    <input \n                                                        type=\"text\"\n                                                        className=\"input\"\n                                                        name=\"fullname\" \n                                                        value={userFullName}\n                                                        onChange={(event)=>{\n                                                            setUserFullName(event.target.value)\n                                                        }}\n                                                        value={userFullName}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Email</td>\n                                                <td>\n                                                    <input \n                                                        type=\"text\"\n                                                        className=\"input\"\n                                                        name=\"email\" \n                                                        value={userEmail}\n                                                        onChange={(event)=>{\n                                                            setUserEmail(event.target.value)\n                                                        }}\n                                                        value={userEmail}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Old password</td>\n                                                <td>\n                                                    <input \n                                                        type=\"password\"\n                                                        className=\"input\"\n                                                        name=\"email\" \n                                                        value={userOldPassword}\n                                                        onChange={(event)=>{\n                                                            setUserOldPassword(event.target.value)\n                                                        }}\n                                                        value={userOldPassword}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>New password</td>\n                                                <td>\n                                                    <input \n                                                        type=\"password\"\n                                                        className=\"input\"\n                                                        name=\"email\" \n                                                        value={userNewPassword}\n                                                        onChange={(event)=>{\n                                                            setUserNewPassword(event.target.value)\n                                                        }}\n                                                        value={userNewPassword}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                        </table>\n\n                                        <div className=\"accountinfo-editavt flex\">\n                                            <img \n                                                style={{borderRadius: '50%'}}\n                                                className=\"accountinfo-editavt-img\"\n                                                src={userAvt} \n                                                alt=\"\"\n                                                width=\"100px\"\n                                                height=\"100px\"\n                                            ></img>\n\n\n                                            <input \n                                                onChange={(event) => {\n                                                    const files = event.target.files;\n                                                    for (let i = 0; i< files.length; i++) {\n                                                        setUserAvt(URL.createObjectURL(files[i]))\n                                                    }  \n                                                    const fileArr = Array.prototype.slice.call(files)\n                                                    fileArr.forEach(item=>{\n                                                        setFile(file=>[...file, item])\n                                                    })\n                                                }}\n                                                type=\"file\"\n                                                name=\"avatar\"\n                                                className=\"accountinfo-editavt-input\"\n                                            ></input>\n                                        </div>\n                                        \n                                    </div>\n                                    <div className=\"accountinfo-btn-row\">\n                                        <button className=\"accountinfo-btn btn\">Save</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    }\n                    {\n                        tabId === 2 && \n                        <div>2</div>\n                    }\n                    {\n                        tabId === 3 && \n                        <div>3</div>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(AccountInfo);"]},"metadata":{},"sourceType":"module"}