{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/CheckoutBody.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\n\nfunction CheckoutBody(props) {\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const socket = socketIOClient(ENDPOINT);\n  const [nameInput, setNameInput] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [phoneInput, setPhoneInput] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [userTinh, setUserTinh] = useState(null);\n  const [userHuyen, setUserHuyen] = useState(null);\n  const [addressInput, setAddressInput] = useState(null);\n  const [cartList, setCartList] = useState([]);\n  const subTotal = localStorage.getItem('total');\n  const [shipping, setShipping] = useState(0);\n  const total = Number(subTotal) + Number(shipping);\n  const [confirm, setConfirm] = useState(false);\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\n  const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\");\n  useEffect(() => {\n    if (userInfo) {\n      setUserAvt(userInfo.userAvt);\n      setNameInput(userInfo.userName);\n      setEmailInput(userInfo.userEmail);\n      setPhoneInput(userInfo.userPhone);\n      setAddressInput(userInfo.userAddress);\n\n      if (userInfo.userTinh !== \"\") {\n        axios.get(`http://pe.heromc.net:4000/vietnam`).then(res => {\n          setTinh(res.data[0].tinh);\n          setHuyen(res.data[0].huyen);\n          res.data[0].tinh.filter(item => {\n            if (userInfo.userTinh === item.name) {\n              setProvinceId(item.id);\n            }\n\n            return null;\n          });\n        });\n        setUserTinh(userInfo.userTinh);\n      }\n\n      if (userInfo.userHuyen !== \"\") {\n        setUserHuyen(userInfo.userHuyen);\n      }\n    }\n\n    setCartList(JSON.parse(localStorage.getItem('cart')));\n  }, [userInfo]);\n  const [methodPayment, setMethodPayMent] = useState(0);\n\n  const checkedPayMent = event => {\n    setMethodPayMent(Number(event.target.id));\n  };\n\n  const placeAnOrder = () => {\n    let orderPaymentMethod2 = \"\";\n\n    if (methodPayment === 1) {\n      orderPaymentMethod2 = \"cash on delivery\";\n    } else if (methodPayment === 2) {\n      orderPaymentMethod2 = \"direct back transfer\";\n    } else if (methodPayment === 3) {\n      orderPaymentMethod2 = \"paypal\";\n    } else {\n      orderPaymentMethod2 = \"\";\n    }\n\n    var cartId = [];\n\n    for (let i in cartList) {\n      cartId.push({\n        id: cartList[i]._id,\n        amount: cartList[i].count\n      });\n    }\n\n    if (orderPaymentMethod2 === \"\") {\n      alert(\"Fill in all infomation please\");\n    } else {\n      const data = {\n        orderName: nameInput,\n        orderAvatar: userAvt,\n        orderEmail: emailInput,\n        orderPhone: phoneInput,\n        orderAddress: addressInput,\n        orderTinh: userTinh,\n        orderHuyen: userHuyen,\n        orderList: cartId,\n        orderTotal: total,\n        orderPaymentMethod: orderPaymentMethod2,\n        orderDate: new Date()\n      };\n      axios.post('http://pe.heromc.net:4000/order', data);\n      setTimeout(() => {\n        setConfirm(true);\n        window.scrollTo(0, 0); // localStorage.removeItem('total')\n        // localStorage.removeItem('cart')\n\n        socket.emit('placeAnOrder', data); // props.history.push(`/shop`);\n        // window.location.reload(false);\n      }, 1000);\n    }\n\n    setOrderPaymentMethod(orderPaymentMethod2);\n    let addressStr = addressInput + ', ' + userTinh + ', ' + userHuyen;\n    setOrderAddressConfirm(addressStr);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CheckoutBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, confirm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '14px',\n      color: 'green',\n      marginBottom: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"Thank you. Your order has been received.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, \"Order details\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 49\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 53\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 49\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '200px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '200px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, \"ADDRESS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 129\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, orderAddressConfirm, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 'max-content',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, \"SHIPPINGFEE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  }, shipping, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 37\n    }\n  }, orderPaymentMethod)))))), !confirm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, \"Billing details\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"billing-detail-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"name\",\n    value: nameInput,\n    onChange: event => {\n      setNameInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }, \"Phone number\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: phoneInput,\n    onChange: event => {\n      setPhoneInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: emailInput,\n    onChange: event => {\n      setEmailInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 37\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userTinh || '',\n    onChange: event => {\n      setProvinceId(event.target.selectedIndex);\n      setUserTinh(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 45\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 53\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 37\n    }\n  }, \"District\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userHuyen || '',\n    onChange: event => {\n      setUserHuyen(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 45\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    if (item.tinh_id === provinceId) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 57\n        }\n      }, item.name);\n    }\n\n    return null;\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 37\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"address\",\n    value: addressInput || '',\n    onChange: event => {\n      setAddressInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 41\n    }\n  }))))))), !confirm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }\n  }, \"Your order\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 21\n    }\n  }, cartList && cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 45\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 49\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 45\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 29\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 33\n    }\n  }), subTotal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 37\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 29\n    }\n  }, \"SHIPPING\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setShipping(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 37\n    }\n  }, \"FREESHIP - 0\\u0111\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 37\n    }\n  }, \"FAST SHIPPING - 30000\\u0111\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 29\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 33\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 29\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-method-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 45\n    }\n  }, \"CASH ON DELIVERY\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 41\n    }\n  }, \"DIRECT BANK TRANSFER\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"3\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"3\",\n    className: methodPayment === 3 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 41\n    }\n  }, \"PAYPAL\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    onClick: placeAnOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 25\n    }\n  }, \"PLACE AN ORDER\")))));\n}\n\nexport default withRouter(CheckoutBody);","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/CheckoutBody.js"],"names":["React","useContext","useEffect","useState","UserContext","axios","withRouter","socketIOClient","ENDPOINT","CheckoutBody","props","tinh","setTinh","huyen","setHuyen","userInfo","socket","nameInput","setNameInput","userAvt","setUserAvt","emailInput","setEmailInput","phoneInput","setPhoneInput","provinceId","setProvinceId","userTinh","setUserTinh","userHuyen","setUserHuyen","addressInput","setAddressInput","cartList","setCartList","subTotal","localStorage","getItem","shipping","setShipping","total","Number","confirm","setConfirm","orderPaymentMethod","setOrderPaymentMethod","orderAddressConfirm","setOrderAddressConfirm","userName","userEmail","userPhone","userAddress","get","then","res","data","filter","item","name","id","JSON","parse","methodPayment","setMethodPayMent","checkedPayMent","event","target","placeAnOrder","orderPaymentMethod2","cartId","i","push","_id","amount","count","alert","orderName","orderAvatar","orderEmail","orderPhone","orderAddress","orderTinh","orderHuyen","orderList","orderTotal","orderDate","Date","post","setTimeout","window","scrollTo","emit","addressStr","fontSize","color","marginBottom","map","index","productImg","productName","productFinalPrice","toString","replace","width","height","lineHeight","justifyContent","textTransform","value","selectedIndex","tinh_id"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css'\nimport axios from 'axios'\nimport {\n    withRouter\n} from 'react-router-dom'\nimport socketIOClient from \"socket.io-client\"\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\n\nfunction CheckoutBody(props) {\n    \n    const [tinh, setTinh] = useState([])\n    const [huyen, setHuyen] = useState([])\n    const { \n        userInfo\n    } = useContext(UserContext);\n    const socket = socketIOClient(ENDPOINT)\n\n    const [nameInput, setNameInput] = useState(\"\")\n    const [userAvt, setUserAvt] = useState(\"\")\n    const [emailInput, setEmailInput] = useState(\"\")\n    const [phoneInput, setPhoneInput] = useState(\"\")\n    const [provinceId, setProvinceId] = useState(\"\")\n    const [userTinh, setUserTinh] = useState(null)\n    const [userHuyen, setUserHuyen] = useState(null)\n    const [addressInput, setAddressInput] = useState(null)\n    const [cartList, setCartList] = useState([])\n    const subTotal = localStorage.getItem('total')\n    const [shipping, setShipping] = useState(0)\n    const total = Number(subTotal) + Number(shipping)\n    const [confirm, setConfirm] = useState(false)\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\n    const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\")\n\n    useEffect(()=>{\n        if (userInfo) {\n            setUserAvt(userInfo.userAvt)\n            setNameInput(userInfo.userName)\n            setEmailInput(userInfo.userEmail)\n            setPhoneInput(userInfo.userPhone)\n            setAddressInput(userInfo.userAddress)\n            if (userInfo.userTinh !== \"\") {\n                axios.get(`http://pe.heromc.net:4000/vietnam`)\n                    .then(res => {\n                        setTinh(res.data[0].tinh)\n                        setHuyen(res.data[0].huyen)\n                        res.data[0].tinh.filter((item)=>{ \n                            if (userInfo.userTinh === item.name) {\n                                setProvinceId(item.id)\n                            }\n                            return null\n                        })\n                    }\n                )  \n                setUserTinh(userInfo.userTinh)\n            }\n            if (userInfo.userHuyen !== \"\") {\n                setUserHuyen(userInfo.userHuyen)\n            }\n        }\n        setCartList((JSON.parse(localStorage.getItem('cart'))))\n    },[userInfo])\n\n    const [methodPayment, setMethodPayMent] = useState(0)\n\n    const checkedPayMent = (event) => {\n        setMethodPayMent(Number(event.target.id))\n    }\n\n    const placeAnOrder = () => {\n        let orderPaymentMethod2 = \"\";\n        if (methodPayment === 1) {\n            orderPaymentMethod2 = \"cash on delivery\"\n        } else if (methodPayment === 2) {\n            orderPaymentMethod2 = \"direct back transfer\"\n        } else if (methodPayment === 3) {\n            orderPaymentMethod2 = \"paypal\"\n        } else {\n            orderPaymentMethod2 = \"\"\n        }\n        var cartId = []\n        for (let i in cartList) {\n            cartId.push(\n                {\n                    id: cartList[i]._id,\n                    amount: cartList[i].count \n                }\n            )\n        }\n        if (orderPaymentMethod2 === \"\") {\n            alert(\"Fill in all infomation please\")\n        } else {\n            const data = {\n                orderName: nameInput,\n                orderAvatar: userAvt,\n                orderEmail: emailInput,\n                orderPhone: phoneInput,\n                orderAddress: addressInput,\n                orderTinh: userTinh,\n                orderHuyen: userHuyen,\n                orderList: cartId,\n                orderTotal: total,\n                orderPaymentMethod: orderPaymentMethod2,\n                orderDate: new Date()\n            }\n            axios.post('http://pe.heromc.net:4000/order', data)\n            setTimeout(()=>{\n                setConfirm(true)\n                window.scrollTo(0,0);\n                // localStorage.removeItem('total')\n                // localStorage.removeItem('cart')\n                socket.emit('placeAnOrder', data)\n                // props.history.push(`/shop`);\n                // window.location.reload(false);\n            }, 1000)\n        }\n        setOrderPaymentMethod(orderPaymentMethod2)\n        let addressStr = addressInput + ', ' + userTinh + ', ' + userHuyen \n        setOrderAddressConfirm(addressStr)\n    }\n\n    return(\n        <div className=\"CheckoutBody\">\n            {\n                confirm &&\n                <div className=\"billing-detail\">\n                    <p style={{fontSize: '14px', color: 'green', marginBottom: '30px'}}>Thank you. Your order has been received.</p> \n                    <div className=\"billing-detail-title\">Order details</div>\n                    <div> \n                        <div className=\"billing-detail-list\">\n                            {\n                                cartList.map((item, index)=>{\n                                    return (\n                                        <div \n                                            key={index}\n                                            className=\"billing-detail-item\"\n                                        >\n                                            <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\n                                            <div className=\"billing-detail-mobile\">\n                                                <div className=\"billing-detail-name\">{item.productName}</div>\n                                                <div className=\"billing-detail-count\">\n                                                    <p>x</p>\n                                                    {item.count}\n                                                </div>\n                                                <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                            </div>\n                                        </div>\n                                    )\n                                }) \n                            }\n                            <div className=\"billing-detail-item flex\">\n                                <div style={{width:'200px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SUBTOTAL</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                </div>\n                            </div>\n                            <div \n                                className=\"billing-detail-item flex\"\n                                style={{justifyContent: 'space-between'}}\n                            >\n                                <div style={{width:'200px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>ADDRESS</div><div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price\" style={{textTransform: 'capitalize'}}>{orderAddressConfirm} đ</div>\n                                </div>\n                            </div>\n                            <div className=\"billing-detail-item flex\">\n                                <div style={{width: 'max-content', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SHIPPINGFEE</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price\" style={{textTransform: 'capitalize'}}>{shipping} đ</div>\n                                </div>\n                            </div>\n                            <div className=\"billing-detail-item flex\">\n                                <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>TOTAL</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                </div>\n                            </div>\n                            <div className=\"billing-detail-payment\">\n                                <div style={{height: '60px', lineHeight: '60px', fontSize: '18px'}}>PAYMENT METHOD</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price\" style={{textTransform: 'capitalize'}}>{orderPaymentMethod}</div>\n                                </div>\n                            </div> \n                        </div>\n                    </div>\n                </div>\n            }\n            { !confirm &&\n                <div className=\"billing-detail\">\n                    <div className=\"billing-detail-title\">Billing details</div>\n                    <form className=\"billing-detail-form\"> \n                        <table className=\"billing-detail-table\"> \n                            <tbody>\n                                <tr>\n                                    <td>Name</td>\n                                    <td>\n                                        <input \n                                            type=\"text\"\n                                            className=\"input\"\n                                            name=\"name\" \n                                            value={nameInput}\n                                            onChange={(event)=>{\n                                                setNameInput(event.target.value)\n                                            }}\n                                        ></input>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Phone number</td>\n                                    <td>\n                                        <input \n                                            type=\"text\"\n                                            className=\"input\"\n                                            name=\"phone\" \n                                            value={phoneInput}\n                                            onChange={(event)=>{\n                                                setPhoneInput(event.target.value)\n                                            }}\n                                        ></input>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Email</td>\n                                    <td>\n                                        <input \n                                            type=\"text\"\n                                            className=\"input\"\n                                            name=\"phone\" \n                                            value={emailInput}\n                                            onChange={(event)=>{\n                                                setEmailInput(event.target.value)\n                                            }}\n                                        ></input>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Province</td>\n                                    <td>\n                                        <select \n                                            className=\"input\"\n                                            value={userTinh || ''}\n                                            onChange={(event)=>{\n                                                setProvinceId(event.target.selectedIndex)\n                                                setUserTinh(event.target.value)\n                                            }}\n                                        >\n                                            <option disabled defaultValue>select a province</option>\n                                            {tinh.map((item, index) => {\n                                                return (\n                                                    <option \n                                                        key={index}\n                                                        value={item.name}\n                                                    >{item.name}</option>\n                                                )\n                                            })}\n                                        </select>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>District</td>\n                                    <td>\n                                        <select \n                                            className=\"input\"\n                                            value={userHuyen || ''}\n                                            onChange={(event)=>{\n                                                setUserHuyen(event.target.value)\n                                            }}\n                                        >\n                                            <option disabled defaultValue>select a district</option>\n                                            {huyen.map((item, index) => {\n                                                if (item.tinh_id === provinceId) {\n                                                    return (\n                                                        <option\n                                                            key={index}\n                                                            value={item.name}\n                                                            >{item.name}</option>\n                                                    )\n                                                }\n                                                return null\n                                            })}\n                                        </select>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Address</td>\n                                    <td>\n                                        <input \n                                            type=\"text\"\n                                            className=\"input\"\n                                            name=\"address\" \n                                            value={addressInput || ''}\n                                            onChange={(event)=>{\n                                                setAddressInput(event.target.value)\n                                            }}\n                                        ></input>\n                                    </td>\n                                </tr>\n                                \n                                    \n                            </tbody>\n                        </table>\n                    </form>\n                </div>\n            }\n            { !confirm &&\n            <div className=\"billing-detail\">\n                <div className=\"billing-detail-title\">Your order</div>\n                <div className=\"billing-detail-form\"> \n                    <div className=\"billing-detail-list\">\n                        { cartList &&\n                            cartList.map((item, index)=>{\n                                return (\n                                    <div \n                                        key={index}\n                                        className=\"billing-detail-item\"\n                                    >\n                                        <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\n                                        <div className=\"billing-detail-mobile\">\n                                            <div className=\"billing-detail-name\">{item.productName}</div>\n                                            <div className=\"billing-detail-count\">\n                                                <p>x</p>\n                                                {item.count}\n                                            </div>\n                                            <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                        </div>\n                                    </div>\n                                )\n                            }) \n                        }\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SUBTOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                { subTotal &&\n                                    <div className=\"billing-detail-price\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                }\n                            </div>\n                        </div>\n                        <div \n                            className=\"billing-detail-item flex\"\n                            style={{justifyContent: 'space-between'}}\n                        >\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SHIPPING</div>\n                            <div className=\"billing-detail-shipping\">\n                                <select onChange={(event)=>{\n                                    setShipping(event.target.value)\n                                }}>\n                                    <option value=\"0\">FREESHIP - 0đ</option>\n                                    <option value=\"30000\">FAST SHIPPING - 30000đ</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>TOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                <div className=\"billing-detail-price\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-payment\">\n                            <div style={{fontSize: '18px'}}>PAYMENT METHOD</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"payment-method-list\">\n                                    <div \n                                        id=\"1\"\n                                        className=\"flex payment-method-item\" \n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"1\"\n                                            className={methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\"}\n                                            ></div>\n                                            <p\n                                                id=\"1\"\n                                                >CASH ON DELIVERY</p>\n                                        </div>\n                                    <div \n                                        id=\"2\"\n                                        className=\"flex payment-method-item\"\n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"2\"\n                                            className={methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\"} ></div>\n                                        <p\n                                            id=\"2\">\n                                            DIRECT BANK TRANSFER\n                                        </p>\n                                    </div>\n                                    <div \n                                        id=\"3\"\n                                        className=\"flex payment-method-item\"\n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"3\"\n                                            className={methodPayment === 3 ? \"size-check isChecked2\" : \"size-check\"} ></div>\n                                        <p\n                                            id=\"3\"\n                                            >PAYPAL</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"order-btn btn\" onClick={placeAnOrder}>\n                            PLACE AN ORDER\n                        </div>\n                    </div>\n                </div>\n            </div>\n            }\n        </div>\n    )\n}\n\nexport default withRouter(CheckoutBody)"]},"metadata":{},"sourceType":"module"}