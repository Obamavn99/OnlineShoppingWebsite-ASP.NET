{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/CheckoutBody.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\n\nfunction CheckoutBody(props) {\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const socket = socketIOClient(ENDPOINT);\n  const [nameInput, setNameInput] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [phoneInput, setPhoneInput] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [userTinh, setUserTinh] = useState(null);\n  const [userHuyen, setUserHuyen] = useState(null);\n  const [addressInput, setAddressInput] = useState(null);\n  const [cartList, setCartList] = useState([]);\n  const subTotal = localStorage.getItem('total');\n  const [shipping, setShipping] = useState(0);\n  const total = Number(subTotal) + Number(shipping);\n  useEffect(() => {\n    if (userInfo) {\n      setUserAvt(userInfo.userAvt);\n      setNameInput(userInfo.userName);\n      setEmailInput(userInfo.userEmail);\n      setPhoneInput(userInfo.userPhone);\n      setAddressInput(userInfo.userAddress);\n\n      if (userInfo.userTinh !== \"\") {\n        tinh.filter(item => {\n          if (userInfo.userTinh === item.name) {\n            setProvinceId(item.id);\n          }\n\n          return true;\n        });\n        setUserTinh(userInfo.userTinh);\n      }\n\n      if (userInfo.userHuyen !== \"\") {\n        setUserHuyen(userInfo.userHuyen);\n      }\n    }\n\n    setCartList(JSON.parse(localStorage.getItem('cart')));\n  }, [userInfo]);\n  const [methodPayment, setMethodPayMent] = useState(0);\n\n  const checkedPayMent = event => {\n    setMethodPayMent(Number(event.target.id));\n  };\n\n  const placeAnOrder = () => {\n    var orderPaymentMethod = \"\";\n\n    if (methodPayment === 1) {\n      orderPaymentMethod = \"cash on delivery\";\n    } else if (methodPayment === 2) {\n      orderPaymentMethod = \"direct back transfer\";\n    } else if (methodPayment === 3) {\n      orderPaymentMethod = \"paypal\";\n    } else {\n      orderPaymentMethod = \"\";\n    }\n\n    var cartId = [];\n\n    for (let i in cartList) {\n      cartId.push({\n        id: cartList[i]._id,\n        amount: cartList[i].count\n      });\n    }\n\n    if (orderPaymentMethod === \"\") {\n      alert(\"Fill in all infomation please\");\n    } else {\n      const data = {\n        orderName: nameInput,\n        orderAvatar: userAvt,\n        orderEmail: emailInput,\n        orderPhone: phoneInput,\n        orderAddress: addressInput,\n        orderTinh: userTinh,\n        orderHuyen: userHuyen,\n        orderList: cartId,\n        orderTotal: total,\n        orderPaymentMethod: orderPaymentMethod,\n        orderDate: new Date()\n      };\n      axios.post('http://pe.heromc.net:4000/order', data);\n      setTimeout(() => {\n        localStorage.removeItem('total');\n        localStorage.removeItem('cart');\n        socket.emit('placeAnOrder', data);\n        props.history.push(`/shop`);\n        window.location.reload(false);\n      }, 1000);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CheckoutBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"Billing Details\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"billing-detail-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"name\",\n    value: nameInput,\n    onChange: event => {\n      setNameInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }, \"Phone number\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: phoneInput,\n    onChange: event => {\n      setPhoneInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: emailInput,\n    onChange: event => {\n      setEmailInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 33\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userTinh,\n    onChange: event => {\n      setProvinceId(event.target.selectedIndex);\n      setUserTinh(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 41\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 49\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  }, \"Distric\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userHuyen,\n    onChange: event => {\n      setUserHuyen(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    if (item.tinh_id === provinceId) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 53\n        }\n      }, item.name);\n    }\n\n    return true;\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"address\",\n    value: addressInput,\n    onChange: event => {\n      setAddressInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 37\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }\n  }, \"Your order\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 45\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 49\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 45\n      }\n    }, (item.productPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 33\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 29\n    }\n  }, \"SHIPPING\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setShipping(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 37\n    }\n  }, \"FREESHIP - 0\\u0111\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 37\n    }\n  }, \"FAST SHIPPING - 30000\\u0111\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 29\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 33\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 29\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-method-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 45\n    }\n  }, \"CASH ON DELIVERY\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 41\n    }\n  }, \"DIRECT BANK TRANSFER\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"3\",\n    className: \"flex payment-method-item\",\n    onClick: checkedPayMent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"3\",\n    className: methodPayment === 3 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 41\n    }\n  }, \"PAYPAL\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    onClick: placeAnOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 25\n    }\n  }, \"PLACE AN ORDER\")))));\n}\n\nexport default withRouter(CheckoutBody);","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/CheckoutBody.js"],"names":["React","useContext","useEffect","useState","UserContext","axios","withRouter","socketIOClient","ENDPOINT","CheckoutBody","props","tinh","setTinh","huyen","setHuyen","userInfo","socket","nameInput","setNameInput","userAvt","setUserAvt","emailInput","setEmailInput","phoneInput","setPhoneInput","provinceId","setProvinceId","userTinh","setUserTinh","userHuyen","setUserHuyen","addressInput","setAddressInput","cartList","setCartList","subTotal","localStorage","getItem","shipping","setShipping","total","Number","userName","userEmail","userPhone","userAddress","filter","item","name","id","JSON","parse","methodPayment","setMethodPayMent","checkedPayMent","event","target","placeAnOrder","orderPaymentMethod","cartId","i","push","_id","amount","count","alert","data","orderName","orderAvatar","orderEmail","orderPhone","orderAddress","orderTinh","orderHuyen","orderList","orderTotal","orderDate","Date","post","setTimeout","removeItem","emit","history","window","location","reload","value","selectedIndex","map","index","tinh_id","productImg","productName","productPrice","toString","replace","width","height","lineHeight","fontSize","color","justifyContent"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css'\nimport axios from 'axios'\nimport {\n    withRouter\n} from 'react-router-dom'\nimport socketIOClient from \"socket.io-client\"\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\n\nfunction CheckoutBody(props) {\n    \n    const [tinh, setTinh] = useState([])\n    const [huyen, setHuyen] = useState([])\n    const { \n        userInfo\n    } = useContext(UserContext);\n    const socket = socketIOClient(ENDPOINT)\n\n    const [nameInput, setNameInput] = useState(\"\")\n    const [userAvt, setUserAvt] = useState(\"\")\n    const [emailInput, setEmailInput] = useState(\"\")\n    const [phoneInput, setPhoneInput] = useState(\"\")\n    const [provinceId, setProvinceId] = useState(\"\")\n    const [userTinh, setUserTinh] = useState(null)\n    const [userHuyen, setUserHuyen] = useState(null)\n    const [addressInput, setAddressInput] = useState(null)\n    const [cartList, setCartList] = useState([])\n    const subTotal = localStorage.getItem('total')\n    const [shipping, setShipping] = useState(0)\n    const total = Number(subTotal) + Number(shipping)\n\n    useEffect(()=>{\n        if (userInfo) {\n            setUserAvt(userInfo.userAvt)\n            setNameInput(userInfo.userName)\n            setEmailInput(userInfo.userEmail)\n            setPhoneInput(userInfo.userPhone)\n            setAddressInput(userInfo.userAddress)\n            if (userInfo.userTinh !== \"\") {\n                tinh.filter((item)=>{\n                    if (userInfo.userTinh === item.name) {\n                        setProvinceId(item.id)\n                    }\n                    return true\n                })\n                setUserTinh(userInfo.userTinh)\n            }\n            if (userInfo.userHuyen !== \"\") {\n                setUserHuyen(userInfo.userHuyen)\n            }\n        }\n        setCartList((JSON.parse(localStorage.getItem('cart'))))\n    },[userInfo])\n\n    const [methodPayment, setMethodPayMent] = useState(0)\n\n    const checkedPayMent = (event) => {\n        setMethodPayMent(Number(event.target.id))\n    }\n\n    const placeAnOrder = () => {\n        var orderPaymentMethod = \"\";\n        if (methodPayment === 1) {\n            orderPaymentMethod = \"cash on delivery\"\n        } else if (methodPayment === 2) {\n            orderPaymentMethod = \"direct back transfer\"\n        } else if (methodPayment === 3) {\n            orderPaymentMethod = \"paypal\"\n        } else {\n            orderPaymentMethod = \"\"\n        }\n        var cartId = []\n        for (let i in cartList) {\n            cartId.push(\n                {\n                    id: cartList[i]._id,\n                    amount: cartList[i].count \n                }\n            )\n        }\n        if (orderPaymentMethod === \"\") {\n            alert(\"Fill in all infomation please\")\n        } else {\n            const data = {\n                orderName: nameInput,\n                orderAvatar: userAvt,\n                orderEmail: emailInput,\n                orderPhone: phoneInput,\n                orderAddress: addressInput,\n                orderTinh: userTinh,\n                orderHuyen: userHuyen,\n                orderList: cartId,\n                orderTotal: total,\n                orderPaymentMethod: orderPaymentMethod,\n                orderDate: new Date()\n            }\n            axios.post('http://pe.heromc.net:4000/order', data)\n            setTimeout(()=>{\n                localStorage.removeItem('total')\n                localStorage.removeItem('cart')\n                socket.emit('placeAnOrder', data)\n                props.history.push(`/shop`);\n                window.location.reload(false);\n            }, 1000)\n        }\n    }\n\n    return(\n        <div className=\"CheckoutBody\">\n            <div className=\"billing-detail\">\n                <div className=\"billing-detail-title\">Billing Details</div>\n                <form className=\"billing-detail-form\"> \n                    <table className=\"billing-detail-table\"> \n                        <tbody>\n                            <tr>\n                                <td>Name</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"name\" \n                                        value={nameInput}\n                                        onChange={(event)=>{\n                                            setNameInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Phone number</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"phone\" \n                                        value={phoneInput}\n                                        onChange={(event)=>{\n                                            setPhoneInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Email</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"phone\" \n                                        value={emailInput}\n                                        onChange={(event)=>{\n                                            setEmailInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Province</td>\n                                <td>\n                                    <select \n                                        className=\"input\"\n                                        value={userTinh}\n                                        onChange={(event)=>{\n                                            setProvinceId(event.target.selectedIndex)\n                                            setUserTinh(event.target.value)\n                                        }}\n                                    >\n                                        <option disabled selected value>select a province</option>\n                                        {tinh.map((item, index) => {\n                                            return (\n                                                <option \n                                                    key={index}\n                                                    value={item.name}\n                                                >{item.name}</option>\n                                            )\n                                        })}\n                                    </select>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Distric</td>\n                                <td>\n                                    <select \n                                        className=\"input\"\n                                        value={userHuyen}\n                                        onChange={(event)=>{\n                                            setUserHuyen(event.target.value)\n                                        }}\n                                    >\n                                        <option disabled selected value>select a district</option>\n                                        {huyen.map((item, index) => {\n                                            if (item.tinh_id === provinceId) {\n                                                return (\n                                                    <option\n                                                        key={index}\n                                                        value={item.name}\n                                                        >{item.name}</option>\n                                                )\n                                            }\n                                            return true\n                                        })}\n                                    </select>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Address</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"address\" \n                                        value={addressInput}\n                                        onChange={(event)=>{\n                                            setAddressInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            \n                                \n                        </tbody>\n                    </table>\n                </form>\n            </div>\n            <div className=\"billing-detail\">\n                <div className=\"billing-detail-title\">Your order</div>\n                <div className=\"billing-detail-form\"> \n                    <div className=\"billing-detail-list\">\n                        {\n                            cartList.map((item, index)=>{\n                                return (\n                                    <div \n                                        key={index}\n                                        className=\"billing-detail-item\"\n                                    >\n                                        <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\n                                        <div className=\"billing-detail-mobile\">\n                                            <div className=\"billing-detail-name\">{item.productName}</div>\n                                            <div className=\"billing-detail-count\">\n                                                <p>x</p>\n                                                {item.count}\n                                            </div>\n                                            <div className=\"billing-detail-price\">{(item.productPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                        </div>\n                                    </div>\n                                )\n                            }) \n                        }\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SUBTOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                <div className=\"billing-detail-price\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                            </div>\n                        </div>\n                        <div \n                            className=\"billing-detail-item flex\"\n                            style={{justifyContent: 'space-between'}}\n                        >\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SHIPPING</div>\n                            <div className=\"billing-detail-shipping\">\n                                <select onChange={(event)=>{\n                                    setShipping(event.target.value)\n                                }}>\n                                    <option value=\"0\">FREESHIP - 0đ</option>\n                                    <option value=\"30000\">FAST SHIPPING - 30000đ</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>TOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                <div className=\"billing-detail-price\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-payment\">\n                            <div style={{fontSize: '18px'}}>PAYMENT METHOD</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"payment-method-list\">\n                                    <div \n                                        id=\"1\"\n                                        className=\"flex payment-method-item\" \n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"1\"\n                                            className={methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\"}\n                                            ></div>\n                                            <p\n                                                id=\"1\"\n                                                >CASH ON DELIVERY</p>\n                                        </div>\n                                    <div \n                                        id=\"2\"\n                                        className=\"flex payment-method-item\"\n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"2\"\n                                            className={methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\"} ></div>\n                                        <p\n                                            id=\"2\">\n                                            DIRECT BANK TRANSFER\n                                        </p>\n                                    </div>\n                                    <div \n                                        id=\"3\"\n                                        className=\"flex payment-method-item\"\n                                        onClick={checkedPayMent}>\n                                        <div \n                                            id=\"3\"\n                                            className={methodPayment === 3 ? \"size-check isChecked2\" : \"size-check\"} ></div>\n                                        <p\n                                            id=\"3\"\n                                            >PAYPAL</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"order-btn btn\" onClick={placeAnOrder}>\n                            PLACE AN ORDER\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(CheckoutBody)"]},"metadata":{},"sourceType":"module"}