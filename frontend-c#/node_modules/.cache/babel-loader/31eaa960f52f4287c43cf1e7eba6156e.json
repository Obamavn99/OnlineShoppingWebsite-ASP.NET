{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/src/pages/ProductDetail.js\";\nimport React, { useRef, useState } from \"react\";\nimport \"../App.css\";\nimport Newsletter from \"../components/Layouts/Newsletter.js\";\nimport Footer from \"../components/Layouts/Footer.js\";\nimport ProductBody from \"../components/Product/ProductBody.js\";\nimport HeaderV2 from \"../components/Header/HeaderV2\";\nimport ProductReview from \"../components/Product/ProductReview.js\";\nimport ProductRecommend from \"../components/Product/ProductRecommend.js\";\nexport default function ProductDetail() {\n  const [tabId, setTabId] = useState(0);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    axios.get(`http://localhost:4000/products`).then(res => {\n      setProducts(res.data);\n    });\n  }, []);\n  const bRef = useRef(null);\n\n  const handleClick = () => {\n    smoothScroll.scrollTo('review');\n    setTabId(1);\n  };\n\n  var smoothScroll = {\n    timer: null,\n    stop: function () {\n      clearTimeout(this.timer);\n    },\n    scrollTo: function (id, callback) {\n      var settings = {\n        duration: 1000,\n        easing: {\n          outQuint: function (x, t, b, c, d) {\n            return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n          }\n        }\n      };\n      var percentage;\n      var startTime;\n      var node = document.getElementById(id);\n      var nodeTop = node.offsetTop;\n      var nodeHeight = node.offsetHeight;\n      var body = document.body;\n      var html = document.documentElement;\n      var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      var windowHeight = window.innerHeight;\n      var offset = window.pageYOffset;\n      var delta = nodeTop - offset;\n      var bottomScrollableY = height - windowHeight;\n      var targetY = bottomScrollableY < delta ? bottomScrollableY - (height - nodeTop - nodeHeight + offset) : delta - 30;\n      startTime = Date.now();\n      percentage = 0;\n\n      if (this.timer) {\n        clearInterval(this.timer);\n      }\n\n      function step() {\n        var yScroll;\n        var elapsed = Date.now() - startTime;\n\n        if (elapsed > settings.duration) {\n          clearTimeout(this.timer);\n        }\n\n        percentage = elapsed / settings.duration;\n\n        if (percentage > 1) {\n          clearTimeout(this.timer);\n\n          if (callback) {\n            callback();\n          }\n        } else {\n          yScroll = settings.easing.outQuint(0, elapsed, offset, targetY, settings.duration);\n          window.scrollTo(0, yScroll);\n          this.timer = setTimeout(step, 10);\n        }\n      }\n\n      this.timer = setTimeout(step, 10);\n    }\n  };\n\n  const setTab = tab => {\n    setTabId(tab);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeaderV2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), products.map(() => {\n    /*#__PURE__*/\n    React.createElement(ProductBody, {\n      productCate: products.productCate,\n      productName: products.productName,\n      productSex: products.productSex,\n      productImg: products.productImg,\n      productDes: products.productDes,\n      productVote: products.productVote,\n      productPrice: products.productPrice,\n      scrollOnLick: handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    });\n  }), products.map(() => {\n    /*#__PURE__*/\n    React.createElement(ProductReview, {\n      productDes: products.productDes,\n      productVote: products.productVote,\n      ratingImg: products.ratingImg,\n      bRef: bRef,\n      tabId: tabId,\n      setTab: setTab,\n      id: \"review\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    });\n  }), products.map(() => {\n    /*#__PURE__*/\n    React.createElement(ProductRecommend, {\n      productCate: products.productCate,\n      productSex: products.productSex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    });\n  }), /*#__PURE__*/React.createElement(Newsletter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/src/pages/ProductDetail.js"],"names":["React","useRef","useState","Newsletter","Footer","ProductBody","HeaderV2","ProductReview","ProductRecommend","ProductDetail","tabId","setTabId","products","setProducts","useEffect","axios","get","then","res","data","bRef","handleClick","smoothScroll","scrollTo","timer","stop","clearTimeout","id","callback","settings","duration","easing","outQuint","x","t","b","c","d","percentage","startTime","node","document","getElementById","nodeTop","offsetTop","nodeHeight","offsetHeight","body","html","documentElement","height","Math","max","scrollHeight","clientHeight","windowHeight","window","innerHeight","offset","pageYOffset","delta","bottomScrollableY","targetY","Date","now","clearInterval","step","yScroll","elapsed","setTimeout","setTab","tab","map","productCate","productName","productSex","productImg","productDes","productVote","productPrice","ratingImg"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport \"../App.css\";\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\nimport Footer from \"../components/Layouts/Footer.js\"\nimport ProductBody from \"../components/Product/ProductBody.js\";\nimport HeaderV2 from \"../components/Header/HeaderV2\";\nimport ProductReview from \"../components/Product/ProductReview.js\";\nimport ProductRecommend from \"../components/Product/ProductRecommend.js\";\n\nexport default function ProductDetail() {\n    \n    const [tabId, setTabId] = useState(0);\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        axios.get(`http://localhost:4000/products`)\n            .then(res => {\n                setProducts(res.data)\n            }\n        )\n    },[])\n\n    const bRef = useRef(null);\n\n    const handleClick = () => {\n        smoothScroll.scrollTo('review');\n        setTabId(1)\n    }\n\n    var smoothScroll = {\n        \n        timer: null,\n    \n        stop: function () {\n            clearTimeout(this.timer);\n        },\n    \n        scrollTo: function (id, callback) {\n            var settings = {\n                duration: 1000,\n                easing: {\n                    outQuint: function (x, t, b, c, d) {\n                        return c*((t=t/d-1)*t*t*t*t + 1) + b;\n                    }\n                }\n            };\n            var percentage;\n            var startTime;\n            var node = document.getElementById(id);\n            var nodeTop = node.offsetTop;\n            var nodeHeight = node.offsetHeight;\n            var body = document.body;\n            var html = document.documentElement;\n            var height = Math.max(\n                body.scrollHeight,\n                body.offsetHeight,\n                html.clientHeight,\n                html.scrollHeight,\n                html.offsetHeight\n            );\n            var windowHeight = window.innerHeight\n            var offset = window.pageYOffset;\n            var delta = nodeTop - offset;\n            var bottomScrollableY = height - windowHeight;\n            var targetY = (bottomScrollableY < delta) ?\n                (bottomScrollableY - (height - nodeTop - nodeHeight + offset)):\n                delta - 30;\n    \n            startTime = Date.now();\n            percentage = 0;\n    \n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n    \n            function step () {\n                var yScroll;\n                var elapsed = Date.now() - startTime;\n    \n                if (elapsed > settings.duration) {\n                    clearTimeout(this.timer);\n                }\n    \n                percentage = elapsed / settings.duration;\n    \n                if (percentage > 1) {\n                    clearTimeout(this.timer);\n    \n                    if (callback) {\n                        callback();\n                    }\n                } else {\n                    yScroll = settings.easing.outQuint(0, elapsed, offset, targetY, settings.duration);\n                    window.scrollTo(0, yScroll);\n                    this.timer = setTimeout(step, 10);     \n                }\n            }\n    \n            this.timer = setTimeout(step, 10);\n        }\n    };\n    \n\n    const setTab = (tab) => {\n        setTabId(tab)\n    }\n\n    return (\n        <div className=\"ProductDetail\">\n            <HeaderV2/>\n            { products.map(()=> {\n                <ProductBody \n                    productCate={products.productCate} \n                    productName={products.productName}\n                    productSex={products.productSex}\n                    productImg={products.productImg}\n                    productDes={products.productDes}\n                    productVote={products.productVote}\n                    productPrice={products.productPrice}\n                    scrollOnLick={handleClick}\n                />\n            })}\n            { products.map(()=> {\n                <ProductReview\n                    productDes={products.productDes}\n                    productVote={products.productVote}\n                    ratingImg={products.ratingImg}\n                    bRef={bRef}\n                    tabId={tabId}\n                    setTab={setTab}\n                    id={\"review\"}\n                />\n            })}\n            { products.map(()=> {\n                <ProductRecommend productCate={products.productCate}\n                    productSex={products.productSex}/>\n            })}\n            <Newsletter/>\n            <Footer/>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}