{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/AccountInfo.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport '../../App.css';\nimport '../../Styles/Account.css';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from '../../contexts/User';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\n\nfunction AccountInfo(props) {\n  const tinh = [{\n    id: 1,\n    name: \"Hà Nội\"\n  }, {\n    id: 2,\n    name: \"TP.HCM\"\n  }];\n  const huyen = [{\n    id: 1,\n    name: \"Quận Hoàn Kiếm\",\n    tinhId: 1\n  }, {\n    id: 2,\n    name: \"Quận 1\",\n    tinhId: 2\n  }];\n  const {\n    userInfo,\n    setUserInfoFunc\n  } = useContext(UserContext);\n  const [tabId, setTabId] = useState(1);\n  const [userFullName, setUserFullName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const [provinceValue, setProvinceValue] = useState(\"\");\n  const [toast, setToast] = useState(false);\n  useEffect(() => {\n    setUserFullName(userInfo.userFullName);\n    setUserEmail(userInfo.userEmail);\n    setUserAvt(userInfo.userAvt);\n  }, []);\n\n  const submitInfo = event => {\n    event.preventDefault();\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    const formData = new FormData();\n    const imageArr = Array.from(file);\n    imageArr.forEach(image => {\n      formData.append('userAvt', image);\n    });\n    formData.append(\"userFullName\", userFullName);\n    formData.append(\"userEmail\", userEmail);\n    formData.append(\"userPassword\", userPassword);\n    localStorage.removeItem('token');\n    axios.post(`http://localhost:4000/users/update/${userInfo._id}`, formData, config).then(res => {\n      console.log(res.data.user);\n      setUserInfoFunc(res.data.user);\n      localStorage.setItem('token', res.data.token);\n    }).catch(err => {\n      console.log(err.response.data);\n    });\n    setToast(true);\n    setTimeout(() => {\n      setToast(false);\n    }, 2000);\n  };\n\n  console.log(userInfo.userAvt);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"AccountInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-container flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: toast ? \"toast toast-show\" : \"toast\",\n    style: {\n      top: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCheckCircle,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), \"Change account infomation success!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-avt flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderRadius: '50%'\n    },\n    className: \"accountinfo-avt-img\",\n    src: userInfo.userAvt,\n    alt: \"\",\n    width: \"48px\",\n    height: \"48px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-avt-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, userInfo.userName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-menu-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 1 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => setTabId(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"My account\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 2 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => setTabId(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, \"Orders\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabId === 3 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\",\n    onClick: () => {\n      localStorage.removeItem('token');\n      window.location.reload(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, \"Log out\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, tabId === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, \"Account Infomation\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, \"Manage account information for account security\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-body flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitInfo,\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-body2 flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 49\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      fontFamily: 'sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 49\n    }\n  }, userInfo.userName)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 49\n    }\n  }, \"Full name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"fullname\",\n    value: userFullName,\n    onChange: event => {\n      setUserFullName(event.target.value);\n    },\n    value: userFullName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 49\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"email\",\n    value: userEmail,\n    onChange: event => {\n      setUserEmail(event.target.value);\n    },\n    value: userEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 49\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    name: \"tinh\",\n    value: provinceValue,\n    onChange: event => {\n      setProvinceValue(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 57\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 65\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 49\n    }\n  }, \"District\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    name: \"huyen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    selected: true,\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 57\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 65\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 49\n    }\n  }, \"New password\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"input\",\n    name: \"email\",\n    value: userPassword,\n    onChange: event => {\n      setUserPassword(event.target.value);\n    },\n    value: userPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 53\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-editavt flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderRadius: '50%'\n    },\n    className: \"accountinfo-editavt-img\",\n    src: userAvt,\n    alt: \"\",\n    width: \"100px\",\n    height: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      const files = event.target.files;\n      setUserAvt(URL.createObjectURL(files[0]));\n      const fileArr = Array.prototype.slice.call(files);\n      fileArr.forEach(item => {\n        setFile(file => [...file, item]);\n      });\n    },\n    type: \"file\",\n    name: \"avatar\",\n    className: \"accountinfo-editavt-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"accountinfo-btn-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"accountinfo-btn btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 41\n    }\n  }, \"Save\"))))), tabId === 2 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }\n  }, \"2\"))));\n}\n\nexport default withRouter(AccountInfo);","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/AccountInfo.js"],"names":["React","useContext","useEffect","useState","withRouter","UserContext","axios","FontAwesomeIcon","faCheckCircle","AccountInfo","props","tinh","id","name","huyen","tinhId","userInfo","setUserInfoFunc","tabId","setTabId","userFullName","setUserFullName","userEmail","setUserEmail","userPassword","setUserPassword","userAvt","setUserAvt","file","setFile","provinceValue","setProvinceValue","toast","setToast","submitInfo","event","preventDefault","config","headers","formData","FormData","imageArr","Array","from","forEach","image","append","localStorage","removeItem","post","_id","then","res","console","log","data","user","setItem","token","catch","err","response","setTimeout","top","borderRadius","userName","window","location","reload","fontFamily","target","value","map","item","index","files","URL","createObjectURL","fileArr","prototype","slice","call"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport '../../App.css';\nimport '../../Styles/Account.css'\nimport {\n    withRouter\n} from 'react-router-dom'\nimport { UserContext } from '../../contexts/User'\nimport axios from 'axios'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\n\nfunction AccountInfo(props) {\n\n    const tinh = [\n        {\n            id: 1,\n            name: \"Hà Nội\"\n        },\n        {\n            id: 2,\n            name: \"TP.HCM\"\n        }\n    ]\n    const huyen = [\n        {\n            id: 1,\n            name: \"Quận Hoàn Kiếm\",\n            tinhId: 1\n        },\n        {\n            id: 2,\n            name: \"Quận 1\",\n            tinhId: 2\n        },\n    ]\n\n    const { \n        userInfo,\n        setUserInfoFunc\n    } = useContext(UserContext);\n\n    const [tabId, setTabId] = useState(1);\n    const [userFullName, setUserFullName] = useState(\"\")\n    const [userEmail, setUserEmail] = useState(\"\")\n    const [userPassword, setUserPassword] = useState(\"\")\n    const [userAvt, setUserAvt] = useState(\"\")\n    const [file, setFile] = useState(\"\")\n    const [provinceValue, setProvinceValue] = useState(\"\")\n\n    const [toast, setToast] = useState(false)\n    \n    useEffect(()=>{\n        setUserFullName(userInfo.userFullName)\n        setUserEmail(userInfo.userEmail)\n        setUserAvt(userInfo.userAvt)\n    },[])\n\n    const submitInfo = (event) => {\n        event.preventDefault()\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n        const formData = new FormData();\n        const imageArr = Array.from(file);\n        imageArr.forEach(image => {\n            formData.append('userAvt', image);\n        });\n        formData.append(\"userFullName\", userFullName);\n        formData.append(\"userEmail\", userEmail);\n        formData.append(\"userPassword\", userPassword);\n        localStorage.removeItem('token')\n        axios.post(`http://localhost:4000/users/update/${userInfo._id}`, formData, config)\n            .then(res => {\n                console.log(res.data.user)\n                setUserInfoFunc(res.data.user);\n                localStorage.setItem('token', res.data.token);\n            })\n            .catch(err => {\n                console.log(err.response.data);\n            })\n        \n        setToast(true)\n        setTimeout(()=>{\n            setToast(false)\n        }, 2000)\n    }\n\n    console.log(userInfo.userAvt)\n\n    return(\n        <div className='AccountInfo'>\n            <div className=\"accountinfo-container flex\">\n\n                <div className={toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\n                    <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\n                    Change account infomation success!\n                </div>\n                <div className=\"accountinfo-menu\">\n                    <div className=\"accountinfo-avt flex\">\n                        <img \n                            style={{borderRadius: '50%'}}\n                            className=\"accountinfo-avt-img\"\n                            src={userInfo.userAvt} \n                            alt=\"\"\n                            width=\"48px\"\n                            height=\"48px\"\n                        ></img>\n                        <div className=\"accountinfo-avt-name\">\n                            {userInfo.userName}\n                        </div>\n                    </div>\n                    <div className=\"accountinfo-menu-list\">\n                        <div \n                            className={tabId === 1 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \n                            onClick={()=> setTabId(1)}>My account</div>\n                        <div \n                            className={tabId === 2 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \n                            onClick={()=> setTabId(2)}>Orders</div>\n                        <div \n                            className={tabId === 3 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"}  \n                            onClick={()=> {\n                                localStorage.removeItem('token');\n                                window.location.reload(false);\n                            }}\n                            >Log out</div>\n                    </div>\n                </div>\n                <div className=\"accountinfo-main\">\n                    {\n                        tabId === 1 && \n                        <div>\n                            <div className=\"accountinfo-title\">\n                                <p>Account Infomation</p>\n                                <p>Manage account information for account security</p>\n                            </div>\n                            <div className=\"accountinfo-body flex\">\n                                <form onSubmit={submitInfo} encType=\"multipart/form-data\" >\n                                    <div className=\"accountinfo-body2 flex\">\n                                        <table>\n                                            <tr>\n                                                <td>Username</td>\n                                                <td style={{fontFamily: 'sans-serif'}}>\n                                                    {userInfo.userName}\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Full name</td>\n                                                <td>\n                                                    <input \n                                                        type=\"text\"\n                                                        className=\"input\"\n                                                        name=\"fullname\" \n                                                        value={userFullName}\n                                                        onChange={(event)=>{\n                                                            setUserFullName(event.target.value)\n                                                        }}\n                                                        value={userFullName}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Email</td>\n                                                <td>\n                                                    <input \n                                                        type=\"text\"\n                                                        className=\"input\"\n                                                        name=\"email\" \n                                                        value={userEmail}\n                                                        onChange={(event)=>{\n                                                            setUserEmail(event.target.value)\n                                                        }}\n                                                        value={userEmail}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>Province</td>\n                                                <td>\n                                                    <select \n                                                        className=\"input\"\n                                                        name=\"tinh\" \n                                                        value={provinceValue}\n                                                        onChange={(event)=>{\n                                                            setProvinceValue(event.target.value)\n                                                        }}\n                                                    >\n                                                        <option disabled selected value>select a province</option>\n                                                        {tinh.map((item, index) => {\n                                                            return (\n                                                                <option \n                                                                    key={index}\n                                                                    value={item.name}\n                                                                >{item.name}</option>\n                                                            )\n                                                        })}\n                                                    </select>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>District</td>\n                                                <td>\n                                                    <select \n                                                        className=\"input\"\n                                                        name=\"huyen\" \n                                                    >\n                                                        <option disabled selected value>select a district</option>\n                                                        {huyen.map((item, index) => {\n                                                            return (\n                                                                <option \n                                                                    key={index}\n                                                                    value={item.name}\n                                                                    >{item.name}</option>\n                                                            )\n                                                        })}\n                                                    </select>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td>New password</td>\n                                                <td>\n                                                    <input \n                                                        type=\"password\"\n                                                        className=\"input\"\n                                                        name=\"email\" \n                                                        value={userPassword}\n                                                        onChange={(event)=>{\n                                                            setUserPassword(event.target.value)\n                                                        }}\n                                                        value={userPassword}\n                                                    ></input>\n                                                </td>\n                                            </tr>\n                                        </table>\n\n                                        <div className=\"accountinfo-editavt flex\">\n                                            <img \n                                                style={{borderRadius: '50%'}}\n                                                className=\"accountinfo-editavt-img\"\n                                                src={userAvt} \n                                                alt=\"\"\n                                                width=\"100px\"\n                                                height=\"100px\"\n                                            ></img>\n                                            <input \n                                                onChange={(event) => {\n                                                    const files = event.target.files;\n                                                    setUserAvt(URL.createObjectURL(files[0]))\n                                                    const fileArr = Array.prototype.slice.call(files)\n                                                    fileArr.forEach(item=>{\n                                                        setFile(file=>[...file, item])\n                                                    })\n                                                }}\n                                                type=\"file\"\n                                                name=\"avatar\"\n                                                className=\"accountinfo-editavt-input\"\n                                            ></input>\n                                        </div>\n                                        \n                                    </div>\n                                    <div className=\"accountinfo-btn-row\">\n                                        <button className=\"accountinfo-btn btn\">Save</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    }\n                    {\n                        tabId === 2 && \n                        <div>2</div>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(AccountInfo);"]},"metadata":{},"sourceType":"module"}