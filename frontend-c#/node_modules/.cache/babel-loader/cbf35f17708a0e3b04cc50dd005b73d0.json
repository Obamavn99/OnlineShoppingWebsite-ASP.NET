{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/Search.js\";\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport '../../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCartPlus, faCheckCircle, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nimport { CartContext } from '../../contexts/Cart';\nexport default function Search(props) {\n  const [products, setProducts] = useState([]);\n  const [constProducts, setConstProducts] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [toast, setToast] = useState(false);\n  useEffect(() => {\n    axios.get(`http://pe.heromc.net:4000/products`).then(res => {\n      setProducts(res.data);\n      setConstProducts(res.data);\n    });\n  }, []);\n\n  const search = event => {\n    const value = event.target.value;\n    setSearchInput(value);\n    const search = [];\n\n    for (let i in constProducts) {\n      if (constProducts[i].productName.toLowerCase().includes(searchInput)) {\n        search.push(constProducts[i]);\n      }\n    }\n\n    setProducts(search);\n  };\n\n  const {\n    wishListItems,\n    removeFromWishList,\n    addToCart\n  } = useContext(CartContext);\n\n  const cartClick = event => {\n    const id = event.target.id;\n    axios.get(`http://pe.heromc.net:4000/products/${id}`).then(res => {\n      addToCart(res.data);\n    });\n    setToast(true);\n    setTimeout(() => {\n      setToast(false);\n    }, 2000);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.searchOpen === false ? 'Search displayNone' : 'Search',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: toast ? \"toast toast-show\" : \"toast\",\n    style: {\n      top: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCheckCircle,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), \"Product is added to cart successfully\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-header flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-close\",\n    onClick: props.clickToClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: props.searchOpen === false ? '' : 'fadeIn',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSearch,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Search\",\n    onChange: search,\n    value: searchInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }))), products.length > 0 && searchInput !== \"\" && products.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-item flex\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      width: \"80px\",\n      height: \"100%\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-mobile flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-name flex\",\n      style: {\n        alignItems: 'center',\n        justifyContent: 'flex-start'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cart-product-price wl-mb-price flex\",\n      style: {\n        alignItems: 'center',\n        justifyContent: 'flex-start'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    }, item.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-addtocart wl-mb-addtocart flex-center btn\",\n      onClick: event => {\n        cartClick(event);\n        removeFromWishList(event);\n      },\n      id: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      style: {\n        pointerEvents: 'none'\n      },\n      icon: faCartPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        pointerEvents: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    }, \"Add to cart\"))));\n  })));\n}","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/Header/Search.js"],"names":["React","useContext","useEffect","useRef","useState","FontAwesomeIcon","faCartPlus","faCheckCircle","faSearch","faTimes","axios","CartContext","Search","props","products","setProducts","constProducts","setConstProducts","searchInput","setSearchInput","toast","setToast","get","then","res","data","search","event","value","target","i","productName","toLowerCase","includes","push","wishListItems","removeFromWishList","addToCart","cartClick","id","setTimeout","searchOpen","top","clickToClose","length","map","item","index","productImg","alignItems","justifyContent","productPrice","toString","replace","_id","pointerEvents"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport '../../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCartPlus, faCheckCircle, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios'\nimport { CartContext } from '../../contexts/Cart';\n\nexport default function Search(props) {  \n\n    const [products, setProducts] = useState([])\n    const [constProducts, setConstProducts] = useState([])\n    const [searchInput, setSearchInput] = useState(\"\")\n    const [toast, setToast] = useState(false)\n\n    useEffect(()=> {\n        axios.get(`http://pe.heromc.net:4000/products`)\n            .then(res => {\n                setProducts(res.data)\n                setConstProducts(res.data)\n            }\n        )\n    }, [])\n\n    const search = (event) => {\n        const value = event.target.value\n        setSearchInput(value)\n        const search = []\n        for (let i in constProducts) {\n            if ((constProducts[i].productName).toLowerCase().includes(searchInput)) {\n                search.push(constProducts[i])\n            }\n        }\n        setProducts(search)\n    }\n\n    const { wishListItems, removeFromWishList, addToCart } = useContext(CartContext)\n\n    const cartClick = (event) => {\n        const id = event.target.id\n        axios.get(`http://pe.heromc.net:4000/products/${id}`)\n            .then(res => {\n                addToCart(res.data)\n            }\n        )\n        setToast(true)\n        setTimeout(()=>{\n            setToast(false)\n        }, 2000)\n    }\n\n    return(\n        <div className={props.searchOpen === false ? 'Search displayNone' : 'Search'}>\n            <div className={toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\n                Product is added to cart successfully\n            </div>\n            <div className=\"search-header flex\">\n                <div className=\"search-title\">Search</div>\n                <div\n                    className=\"search-close\"\n                    onClick={props.clickToClose}\n                    >\n                    <FontAwesomeIcon \n                        icon={faTimes}\n                        className=\"icon\"\n                        />\n                </div>\n            </div>\n            <div className={props.searchOpen === false ? '' : 'fadeIn'}> \n                <div className=\"search-form\">\n                    <form className=\"flex\">\n                        <FontAwesomeIcon icon={faSearch} className=\"icon\"/>\n                        <input \n                            placeholder=\"Search\" \n                            onChange={search}\n                            value={searchInput}\n                        />\n                        <FontAwesomeIcon icon={faTimes} className=\"icon\"/>\n                    </form>\n                </div>\n                { (products.length > 0 && searchInput !== \"\") && \n                    products.map((item, index) => {\n                        return (\n                            <div className=\"cart-item flex\" key={index}>\n                                <div className=\"cart-product-img\">\n                                    <img src={item.productImg[0]} width=\"80px\" height=\"100%\" alt=\"\"></img>\n                                </div>\n                                <div className=\"cart-product-mobile flex\">\n                                    <div className=\"cart-product-name flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productName}</div>\n                                    <div className=\"cart-product-price wl-mb-price flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                    \n                                    <div className=\"product-info-addtocart wl-mb-addtocart flex-center btn\"\n                                        onClick={(event)=> {\n                                            cartClick(event)\n                                            removeFromWishList(event)\n                                        }}\n                                        id={item._id}\n                                    >\n                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faCartPlus}/>\n                                        <p style={{pointerEvents: 'none'}}>Add to cart</p>\n                                    </div> \n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    ) \n}\n"]},"metadata":{},"sourceType":"module"}