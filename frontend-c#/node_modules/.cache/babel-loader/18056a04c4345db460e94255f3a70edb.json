{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/frontend/src/components/News/NewsBodyWidget.js\";\nimport React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebookF, faTwitter, faInstagram, faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\n\nfunction NewsBodyWidget(props) {\n  const [news, setNews] = useState([]);\n  const [isSearchFocus, setIsSearchFocus] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  let splicedCate = [];\n  let sortedCate = [];\n  const topViews = news.sort((a, b) => b.newView - a.newView).slice(0, 3); //Top view on Category\n\n  if (news.length > 0) {\n    //Get all category\n    const cate = Object.values(news.reduce((a, {\n      newCate\n    }) => {\n      a[newCate] = a[newCate] || {\n        newCate,\n        count: 0\n      };\n      a[newCate].count++;\n      return a;\n    }, Object.create(null))); //Sort and splice category by posts count\n\n    cate.sort((a, b) => b.count - a.count);\n    splicedCate = cate.splice(0, 5);\n    splicedCate.sort((a, b) => b.count - a.count);\n\n    for (let i = 0; i < splicedCate.length; i++) {\n      sortedCate.push(splicedCate[i].newCate);\n    }\n  }\n\n  useEffect(() => {\n    axios.get(`http://pe.heromc.net:4000/news`).then(res => {\n      setNews(res.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsbody-widget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: isSearchFocus === true ? \"widget-form widget_search_click\" : \"widget-form\",\n    onSubmit: () => {\n      props.setSearchNews();\n    },\n    onMouseEnter: () => {\n      setIsSearchFocus(true);\n    },\n    onMouseLeave: () => {\n      setIsSearchFocus(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Search the site\",\n    onChange: event => setSearchInput(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-pop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Popular Posts\"), topViews.map((item, index) => {\n    const date = new Date(item.newTime);\n    const day = date.getDate();\n    const month = date.getMonth() + 1;\n    const year = date.getFullYear();\n    const timeStr = day + '.' + month + '.' + year;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"widget-post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-post-img\",\n      style: {\n        backgroundImage: `url(${item.newImg})`\n      },\n      onClick: () => {\n        window.scrollTo(0, 0);\n        props.history.push(`/news/${item._id}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-post-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-post-title\",\n      onClick: () => {\n        window.scrollTo(0, 0);\n        props.history.push(`/news/${item._id}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, item.newTitle), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-post-info2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"widget-post-time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }\n    }, timeStr), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"widget-post-view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, item.newView, \" view\"))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-cate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Categorys\"), splicedCate.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"widget-cate-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-cate-div\",\n      onClick: () => {\n        window.scrollTo(0, 0);\n        props.history.push(`/news/category/${item.newCate}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }, item.newCate), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"widget-cate-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, item.count)));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-connect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Stay Connected\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-connect-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faFacebookF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTwitter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faInstagram,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widget-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faGoogle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default withRouter(NewsBodyWidget);","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/frontend/src/components/News/NewsBodyWidget.js"],"names":["React","useEffect","useState","FontAwesomeIcon","faFacebookF","faTwitter","faInstagram","faGoogle","axios","withRouter","NewsBodyWidget","props","news","setNews","isSearchFocus","setIsSearchFocus","searchInput","setSearchInput","splicedCate","sortedCate","topViews","sort","a","b","newView","slice","length","cate","Object","values","reduce","newCate","count","create","splice","i","push","get","then","res","data","setSearchNews","event","target","value","map","item","index","date","Date","newTime","day","getDate","month","getMonth","year","getFullYear","timeStr","backgroundImage","newImg","window","scrollTo","history","_id","newTitle"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAAUC,WAAV,EAAuBC,SAAvB,EAAkCC,WAAlC,EAA+CC,QAA/C,QAA+D,oCAA/D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAE3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,EAAD,CAA9C;AAGA,MAAIgB,WAAW,GAAG,EAAlB;AACA,MAAIC,UAAU,GAAG,EAAjB;AAEA,QAAMC,QAAQ,GAAIR,IAAI,CAACS,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,OAAF,GAAYF,CAAC,CAACE,OAAlC,CAAD,CAA6CC,KAA7C,CAAmD,CAAnD,EAAqD,CAArD,CAAjB,CAV2B,CAU+C;;AAC1E,MAAIb,IAAI,CAACc,MAAL,GAAc,CAAlB,EAAqB;AAEjB;AACA,UAAMC,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAcjB,IAAI,CAACkB,MAAL,CAAY,CAACR,CAAD,EAAI;AAACS,MAAAA;AAAD,KAAJ,KAAkB;AACrDT,MAAAA,CAAC,CAACS,OAAD,CAAD,GAAaT,CAAC,CAACS,OAAD,CAAD,IAAc;AAACA,QAAAA,OAAD;AAAUC,QAAAA,KAAK,EAAE;AAAjB,OAA3B;AACAV,MAAAA,CAAC,CAACS,OAAD,CAAD,CAAWC,KAAX;AACA,aAAOV,CAAP;AACH,KAJ0B,EAIxBM,MAAM,CAACK,MAAP,CAAc,IAAd,CAJwB,CAAd,CAAb,CAHiB,CAQjB;;AACAN,IAAAA,IAAI,CAACN,IAAL,CAAU,CAACC,CAAD,EAAGC,CAAH,KAAUA,CAAC,CAACS,KAAF,GAAUV,CAAC,CAACU,KAAhC;AACAd,IAAAA,WAAW,GAAGS,IAAI,CAACO,MAAL,CAAY,CAAZ,EAAc,CAAd,CAAd;AACAhB,IAAAA,WAAW,CAACG,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACS,KAAF,GAAUV,CAAC,CAACU,KAAvC;;AAEA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,WAAW,CAACQ,MAAhC,EAAwCS,CAAC,EAAzC,EAA6C;AACzChB,MAAAA,UAAU,CAACiB,IAAX,CAAgBlB,WAAW,CAACiB,CAAD,CAAX,CAAeJ,OAA/B;AACH;AACJ;;AAED9B,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,KAAK,CAAC6B,GAAN,CAAW,gCAAX,EACKC,IADL,CACUC,GAAG,IAAI;AACT1B,MAAAA,OAAO,CAAC0B,GAAG,CAACC,IAAL,CAAP;AACH,KAHL;AAKH,GANQ,EAMN,EANM,CAAT;AAQA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI,IAAA,SAAS,EAAG1B,aAAa,KAAK,IAAlB,GAAyB,iCAAzB,GAA6D,aAD7E;AAEI,IAAA,QAAQ,EAAE,MAAI;AACVH,MAAAA,KAAK,CAAC8B,aAAN;AACH,KAJL;AAKI,IAAA,YAAY,EAAE,MAAM;AAAE1B,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AAAuB,KALjD;AAMI,IAAA,YAAY,EAAE,MAAM;AAAEA,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AAAwB,KANlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOI;AAAO,IAAA,WAAW,EAAC,iBAAnB;AAAqC,IAAA,QAAQ,EAAG2B,KAAD,IAASzB,cAAc,CAACyB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,CAFJ,CADJ,eAcI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAGQxB,QAAQ,CAACyB,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAE1B,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASH,IAAI,CAACI,OAAd,CAAb;AACA,UAAMC,GAAG,GAAGH,IAAI,CAACI,OAAL,EAAZ;AACA,UAAMC,KAAK,GAAGL,IAAI,CAACM,QAAL,KAAkB,CAAhC;AACA,UAAMC,IAAI,GAAGP,IAAI,CAACQ,WAAL,EAAb;AACA,UAAMC,OAAO,GAAGN,GAAG,GAAG,GAAN,GAAYE,KAAZ,GAAoB,GAApB,GAAyBE,IAAzC;AAEA,wBACI;AAAK,MAAA,GAAG,EAAER,KAAV;AAAiB,MAAA,SAAS,EAAC,aAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,SAAS,EAAC,iBADd;AAEI,MAAA,KAAK,EAAE;AAACW,QAAAA,eAAe,EAAG,OAAMZ,IAAI,CAACa,MAAO;AAArC,OAFX;AAGI,MAAA,OAAO,EAAE,MAAI;AACTC,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACAlD,QAAAA,KAAK,CAACmD,OAAN,CAAc1B,IAAd,CAAoB,SAAQU,IAAI,CAACiB,GAAI,EAArC;AACH,OANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eASI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,SAAS,EAAC,mBADd;AAEI,MAAA,OAAO,EAAE,MAAI;AACTH,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACAlD,QAAAA,KAAK,CAACmD,OAAN,CAAc1B,IAAd,CAAoB,SAAQU,IAAI,CAACiB,GAAI,EAArC;AACH,OALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMEjB,IAAI,CAACkB,QANP,CADJ,eAQI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCP,OAApC,CADJ,eAEI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCX,IAAI,CAACtB,OAAzC,UAFJ,CARJ,CATJ,CADJ;AAyBH,GAjCD,CAHR,CAdJ,eAqDI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAGQN,WAAW,CAAC2B,GAAZ,CAAgB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC7B,wBACI;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAiB,MAAA,SAAS,EAAC,uBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,SAAS,EAAC,iBADd;AAEI,MAAA,OAAO,EAAE,MAAI;AACTa,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACAlD,QAAAA,KAAK,CAACmD,OAAN,CAAc1B,IAAd,CAAoB,kBAAiBU,IAAI,CAACf,OAAQ,EAAlD;AACH,OALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMe,IAAI,CAACf,OAAX,CANJ,eAOI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCe,IAAI,CAACd,KAAzC,CAPJ,CADJ,CADJ;AAaH,GAdD,CAHR,CArDJ,eAyEI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE5B,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,eAOI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,eAUI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAVJ,CAFJ,CAzEJ,CADJ;AAuGH;;AACD,eAAeE,UAAU,CAACC,cAAD,CAAzB","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {  faFacebookF, faTwitter, faInstagram, faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\n\nfunction NewsBodyWidget(props) {\n\n    const [news, setNews] = useState([]);\n    const [isSearchFocus, setIsSearchFocus] = useState(false);\n    const [searchInput, setSearchInput] = useState(\"\")\n\n\n    let splicedCate = [];\n    let sortedCate = [];\n\n    const topViews = (news.sort((a, b) => b.newView - a.newView)).slice(0,3); //Top view on Category\n    if (news.length > 0) {\n        \n        //Get all category\n        const cate = Object.values(news.reduce((a, {newCate}) => {\n            a[newCate] = a[newCate] || {newCate, count: 0};\n            a[newCate].count++;\n            return a;\n        }, Object.create(null)));\n        //Sort and splice category by posts count\n        cate.sort((a,b) =>  b.count - a.count)\n        splicedCate = cate.splice(0,5);\n        splicedCate.sort((a, b) => b.count - a.count);\n\n        for (let i = 0; i < splicedCate.length; i++) {\n            sortedCate.push(splicedCate[i].newCate);\n        }\n    }\n\n    useEffect(() => {\n        axios.get(`http://pe.heromc.net:4000/news`)\n            .then(res => {\n                setNews(res.data)\n            }\n        )\n    }, [])\n\n    return (\n        <div className=\"newsbody-widget\">\n            <div className=\"widget-search\">\n                <div className=\"widget-title\">Search</div>\n                <form \n                    className={ isSearchFocus === true ? \"widget-form widget_search_click\" : \"widget-form\"} \n                    onSubmit={()=>{\n                        props.setSearchNews()\n                    }}\n                    onMouseEnter={() => { setIsSearchFocus(true)}}\n                    onMouseLeave={() => { setIsSearchFocus(false)}}>\n                    <input placeholder=\"Search the site\" onChange={(event)=>setSearchInput(event.target.value)}></input>\n                    <button>Search</button>\n                </form>\n            </div>\n            <div className=\"widget-pop\">\n                <div className=\"widget-title\">Popular Posts</div>\n                {\n                    topViews.map((item, index) => {\n\n                        const date = new Date(item.newTime)\n                        const day = date.getDate()\n                        const month = date.getMonth() + 1\n                        const year = date.getFullYear()\n                        const timeStr = day + '.' + month + '.' +year\n\n                        return(\n                            <div key={index} className=\"widget-post\">\n                                <div \n                                    className=\"widget-post-img\" \n                                    style={{backgroundImage: `url(${item.newImg})`}}\n                                    onClick={()=>{\n                                        window.scrollTo(0,0); \n                                        props.history.push(`/news/${item._id}`)\n                                    }}\n                                ></div>\n                                <div className=\"widget-post-info\">\n                                    <div \n                                        className=\"widget-post-title\"\n                                        onClick={()=>{\n                                            window.scrollTo(0,0); \n                                            props.history.push(`/news/${item._id}`)\n                                        }}\n                                    >{item.newTitle}</div>\n                                    <div className=\"widget-post-info2\">\n                                        <span className=\"widget-post-time\">{timeStr}</span>\n                                        <span className=\"widget-post-view\">{item.newView} view</span>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <div className=\"widget-cate\">\n                <div className=\"widget-title\">Categorys</div>\n                {\n                    splicedCate.map((item, index) => {\n                        return (\n                            <div key={index} className=\"widget-cate-container\">\n                                <div \n                                    className=\"widget-cate-div\"\n                                    onClick={()=>{\n                                        window.scrollTo(0,0); \n                                        props.history.push(`/news/category/${item.newCate}`)\n                                    }}>\n                                    <div>{item.newCate}</div>\n                                    <div className=\"widget-cate-count\">{item.count}</div>\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <div className=\"widget-connect\">\n                <div className=\"widget-title\">Stay Connected</div>\n                <div className=\"widget-connect-container\">\n                    <div className=\"widget-icon\">\n                        <FontAwesomeIcon icon={faFacebookF}/>\n                    </div>\n                    <div className=\"widget-icon\">\n                        <FontAwesomeIcon icon={faTwitter}/>\n                    </div>\n                    <div className=\"widget-icon\">\n                        <FontAwesomeIcon icon={faInstagram}/>\n                    </div>\n                    <div className=\"widget-icon\">\n                        <FontAwesomeIcon icon={faGoogle}/>\n                    </div>\n                </div>\n            </div>\n\n            {/* <div className=\"widget-newsletter\">\n                <div className=\"widget-title\">Newsletter</div>\n                <form className={ isSearchFocus === true ? \"widget-form widget_search_click\" : \"widget-form\"} \n                    onMouseEnter={() => { setIsSearchFocus(true)}}\n                    onMouseLeave={() => { setIsSearchFocus(false)}}>\n                    <input placeholder=\"Enter your email\"></input>\n                    <button>Send</button>\n                </form>\n            </div> */}\n        </div>\n    )\n}\nexport default withRouter(NewsBodyWidget);"]},"metadata":{},"sourceType":"module"}