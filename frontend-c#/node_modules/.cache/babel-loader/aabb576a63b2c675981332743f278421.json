{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/src/components/ProductBody.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport '../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight, faChevronLeft, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from 'react-router-dom'; // Import Swiper React components\n// import { Swiper, SwiperSlide } from 'swiper/react';\n// Import Swiper styles\n// import 'swiper/swiper.scss';\n\nimport ReactStars from \"react-rating-stars-component\";\nexport default function ProductBody(props) {\n  function slugify(text) {\n    return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/[^\\u0100-\\uFFFF\\w\\-]/g, '-') // Remove all non-word chars ( fix for UTF-8 chars )\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n  }\n\n  const slugSex = \"/\" + slugify(props.productSex);\n  const productImgSmall = props.productImg; // const [productImgBig, setProductImgBig] = useState([].concat(props.productImg));\n  // const productImgBig = [].concat(props.productImg);\n\n  const [imgIndex, setImgIndex] = useState(0);\n  const [hover, setHover] = useState(false);\n  const [zoom, setZoom] = useState(`0% 0%`);\n  const width = 500;\n  const productSmall = useRef(null);\n\n  const handleMouseMove = e => {\n    const {\n      left,\n      top,\n      width,\n      height\n    } = e.target.getBoundingClientRect();\n    const x = (e.pageX - left) / width * 100;\n    const y = (e.pageY - top) / height * 100;\n    setZoom(`${x}% ${y}%`);\n  };\n\n  if (imgIndex >= productImgSmall.length) {\n    //infinity slider loop\n    // setProductImgBig(productImgBig.concat(props.productImg))\n    setImgIndex(0);\n  }\n\n  if (productImgSmall.length > 4) {\n    if (imgIndex === 1 || imgIndex === 2) {\n      productSmall.current.style.transform = `translateY(0px)`;\n    } else if (imgIndex === productImgSmall.length - 1) {\n      productSmall.current.style.transform = `translateY(-${(imgIndex - 5) * 110 + 50}px)`;\n    } else if (imgIndex === productImgSmall.length - 2) {\n      productSmall.current.style.transform = `translateY(-${(imgIndex - 4) * 110 + 50}px)`;\n    } else if (imgIndex === productImgSmall.length - 3) {\n      productSmall.current.style.transform = `translateY(-${(imgIndex - 3) * 110 + 50}px)`;\n    } else if (imgIndex > 2) {\n      productSmall.current.style.transform = `translateY(-${(imgIndex - 2) * 110}px)`;\n    } else {\n      if (productSmall.current) {\n        productSmall.current.style.transform = `translateY(0px)`;\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (hover === false) {\n      var interval = setInterval(() => {\n        setImgIndex(imgIndex => imgIndex + 1);\n      }, 500000);\n    }\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [hover]); //Counting star vote\n\n  let ratingList = props.productVote.map(a => a.ratingStar); // get all rating\n\n  const totalRating = ratingList.reduce((a, b) => {\n    a + b;\n  }, 0);\n  console.log(totalRating); // //Get all category\n  // const cate = Object.values(news.reduce((a, {newCate}) => {\n  //     a[newCate] = a[newCate] || {newCate, count: 0};\n  //     a[newCate].count++;\n  //     return a;\n  // }, Object.create(null)));\n  // //Sort and splice category by posts count\n  // cate.sort((a,b) =>  b.count - a.count)\n  // const splicedCate = cate.splice(0,5);\n  // splicedCate.sort((a, b) => b.count - a.count);\n  // const sortedCate = [];\n  // for (let i = 0; i < splicedCate.length; i++) {\n  //     sortedCate.push(splicedCate[i].newCate);\n  // }\n\n  const ratingStar = {\n    size: 12,\n    value: 3.2,\n    edit: false,\n    activeColor: \"#fda32a\",\n    color: \"#ddd\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-breadcrumb flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"breadcrumb-item breadcrumb-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleRight,\n    className: \"breadcrumb-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: slugSex,\n    className: \"breadcrumb-item breadcrumb-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, props.productCate), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleRight,\n    className: \"breadcrumb-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"breadcrumb-item breadcrumb-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, props.productName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-detail flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-gallery flex\",\n    onMouseEnter: () => {\n      setHover(true);\n    },\n    onMouseLeave: () => {\n      setHover(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-small\",\n    ref: productSmall,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, productImgSmall.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: imgIndex === index ? \"product-small-item product-small-item-active\" : \"product-small-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item,\n      onClick: () => {\n        setImgIndex(index);\n      },\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 37\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    // thumbs={{ swiper: thumbsSwiper }}\n    className: \"product-slider flex\" // spaceBetween={0}\n    // slidesPerView={1}\n    // width={width}\n    // onSlideChange={updateIndex}\n    ,\n    onMouseMove: handleMouseMove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, productImgSmall.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"product-big flex\",\n      style: {\n        transform: `translateX(-${width * imgIndex}px`,\n        backgroundImage: `url(${item})`,\n        backgroundPosition: `${zoom}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-big-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: index,\n      className: \"nodrag\",\n      style: {\n        width: `${width}px`\n      },\n      src: item,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"change-product left\",\n    onClick: () => {\n      if (imgIndex > 0) setImgIndex(imgIndex - 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"change-product right\",\n    onClick: () => {\n      if (imgIndex < productImgSmall.length) setImgIndex(imgIndex + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, props.productName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-des\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, props.productDes), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-vote\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ReactStars, Object.assign({}, ratingStar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, props.productPrice), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, \"Add to cart\"))));\n}","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/src/components/ProductBody.js"],"names":["React","useEffect","useRef","useState","FontAwesomeIcon","faAngleRight","faChevronLeft","faChevronRight","Link","ReactStars","ProductBody","props","slugify","text","toString","toLowerCase","replace","slugSex","productSex","productImgSmall","productImg","imgIndex","setImgIndex","hover","setHover","zoom","setZoom","width","productSmall","handleMouseMove","e","left","top","height","target","getBoundingClientRect","x","pageX","y","pageY","length","current","style","transform","interval","setInterval","clearInterval","ratingList","productVote","map","a","ratingStar","totalRating","reduce","b","console","log","size","value","edit","activeColor","color","productCate","productName","item","index","backgroundImage","backgroundPosition","productDes","productPrice"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport '../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {  faAngleRight, faChevronLeft, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from 'react-router-dom';\n\n// Import Swiper React components\n// import { Swiper, SwiperSlide } from 'swiper/react';\n\n// Import Swiper styles\n// import 'swiper/swiper.scss';\n\nimport ReactStars from \"react-rating-stars-component\";\n\nexport default function ProductBody(props) {\n\n    function slugify(text){\n        return text.toString().toLowerCase()\n            .replace(/\\s+/g, '-')           // Replace spaces with -\n            .replace(/[^\\u0100-\\uFFFF\\w\\-]/g,'-') // Remove all non-word chars ( fix for UTF-8 chars )\n            .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n            .replace(/^-+/, '')             // Trim - from start of text\n            .replace(/-+$/, '');            // Trim - from end of text\n    }\n    const slugSex = \"/\" + slugify(props.productSex);\n\n    const productImgSmall = props.productImg;\n    // const [productImgBig, setProductImgBig] = useState([].concat(props.productImg));\n    // const productImgBig = [].concat(props.productImg);\n    \n    const [imgIndex, setImgIndex] = useState(0);\n    const [hover, setHover] = useState(false);\n    const [zoom, setZoom] = useState(`0% 0%`);\n    const width = 500;\n    const productSmall = useRef(null);\n\n    const handleMouseMove = (e) => {\n        const { left, top, width, height } = e.target.getBoundingClientRect();\n        const x = ((e.pageX - left) / width) * 100;\n        const y = ((e.pageY - top) / height) * 100;\n        setZoom(`${x}% ${y}%`);\n    };\n    \n    if (imgIndex >= productImgSmall.length) { //infinity slider loop\n        // setProductImgBig(productImgBig.concat(props.productImg))\n        setImgIndex(0);\n    }\n\n    if (productImgSmall.length > 4) {\n        if (imgIndex === 1 || imgIndex === 2) {\n            productSmall.current.style.transform= `translateY(0px)`\n        } else if (imgIndex === productImgSmall.length - 1) {\n            productSmall.current.style.transform= `translateY(-${(imgIndex-5) * 110 + 50}px)`\n        } else if (imgIndex === productImgSmall.length - 2) {\n            productSmall.current.style.transform= `translateY(-${(imgIndex-4) * 110 + 50}px)`\n        } else if (imgIndex === productImgSmall.length - 3) {\n            productSmall.current.style.transform= `translateY(-${(imgIndex-3) * 110 + 50}px)`\n        } else if (imgIndex > 2) {\n            productSmall.current.style.transform= `translateY(-${(imgIndex-2) * 110}px)`\n        } else {\n            if (productSmall.current) {\n                productSmall.current.style.transform= `translateY(0px)`\n            }\n        }\n    }\n\n    useEffect(() => {\n        if (hover === false) {\n            var interval = setInterval(() => {\n                setImgIndex(imgIndex => imgIndex + 1);\n            }, 500000);\n        }\n        return() => {\n            clearInterval(interval);\n        }\n    },[hover])\n\n    //Counting star vote\n    let ratingList = props.productVote.map(a => a.ratingStar); // get all rating\n\n    const totalRating = ratingList.reduce((a,b)=> {\n        a + b\n    }, 0)\n\n    console.log(totalRating)\n\n    // //Get all category\n    // const cate = Object.values(news.reduce((a, {newCate}) => {\n    //     a[newCate] = a[newCate] || {newCate, count: 0};\n    //     a[newCate].count++;\n    //     return a;\n    // }, Object.create(null)));\n    // //Sort and splice category by posts count\n    // cate.sort((a,b) =>  b.count - a.count)\n    // const splicedCate = cate.splice(0,5);\n    // splicedCate.sort((a, b) => b.count - a.count);\n    \n    // const sortedCate = [];\n    // for (let i = 0; i < splicedCate.length; i++) {\n    //     sortedCate.push(splicedCate[i].newCate);\n    // }\n\n    const ratingStar = {\n        size: 12,\n        value: 3.2,\n        edit: false,\n        activeColor: \"#fda32a\",\n        color: \"#ddd\"\n    };\n      \n\n    return(\n        <div className=\"ProductBody\">\n            <div className=\"product-breadcrumb flex\">\n                <Link to=\"/\" className=\"breadcrumb-item breadcrumb-link\">Home</Link>\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\n                <Link to={slugSex} className=\"breadcrumb-item breadcrumb-link\">{props.productCate}</Link>\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\n                <div className=\"breadcrumb-item breadcrumb-product\">{props.productName}</div>\n            </div>\n\n            <div className=\"product-detail flex\">\n                <div className=\"product-gallery flex\"\n                    onMouseEnter={()=> {setHover(true)}}\n                    onMouseLeave={()=> {setHover(false)}}>\n                    <div \n                        className=\"product-small\" ref={productSmall}\n                        >\n                        {productImgSmall.map((item, index) => {\n                            return (\n                                <div \n                                    key={index}\n                                    className={imgIndex === index ? \"product-small-item product-small-item-active\" : \"product-small-item\"}>\n                                    <img \n                                        src={item}\n                                        onClick={()=>{ setImgIndex(index)}}\n                                        alt=\"\"\n                                        ></img>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <div\n                        // thumbs={{ swiper: thumbsSwiper }}\n                        className=\"product-slider flex\"\n                        // spaceBetween={0}\n                        // slidesPerView={1}\n                        // width={width}\n                        // onSlideChange={updateIndex}\n                        onMouseMove={handleMouseMove}\n                        >\n                        {productImgSmall.map((item, index) => {\n                            return (\n                                <div\n                                    key={index}\n                                    className=\"product-big flex\" \n                                    style={{ \n                                        transform: `translateX(-${width * imgIndex}px`,\n                                        backgroundImage: `url(${item})`,\n                                        backgroundPosition: `${zoom}`\n                                    }}>\n                                    <div className=\"product-big-item\">\n                                        <img \n                                            id={index}\n                                            className=\"nodrag\"\n                                            style={{ width: `${width}px`}}\n                                            src={item}\n                                            alt=\"\"\n                                            ></img>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                        <div \n                            className=\"change-product left\"\n                            onClick={()=> {\n                                if (imgIndex > 0) setImgIndex(imgIndex - 1)\n                            }}\n                            >\n                            <FontAwesomeIcon icon={faChevronLeft}></FontAwesomeIcon>\n                        </div>\n                        <div className=\"change-product right\"\n                            onClick={()=> {\n                                if (imgIndex < productImgSmall.length) setImgIndex(imgIndex + 1)\n                            }}\n                            >\n                            <FontAwesomeIcon icon={faChevronRight}></FontAwesomeIcon>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"product-info-detail\">\n                    <div className=\"product-info-title\">\n                        {props.productName}\n                    </div>\n                    <div className=\"product-info-des\">\n                        {props.productDes}\n                    </div>\n                    <div className=\"product-info-vote\">\n                        <ReactStars {...ratingStar} />\n                    </div>\n                    <div className=\"product-info-price\">\n                        {props.productPrice}\n                    </div>\n                    <div className=\"product-info-cart\">\n                        Add to cart\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}