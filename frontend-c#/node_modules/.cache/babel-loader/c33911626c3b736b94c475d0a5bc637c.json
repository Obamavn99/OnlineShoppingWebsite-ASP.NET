{"ast":null,"code":"var _jsxFileName = \"/Users/namduong/Documents/dev/shop-project/src/components/Product/ProductBody.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport '../../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight, faCartPlus, faChevronLeft, faChevronRight, faHeart, faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from 'react-router-dom';\nimport ReactStars from \"react-rating-stars-component\";\nexport default function ProductBody(props) {\n  function slugify(str) {\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n\n    str = str.toLowerCase(); // remove accents, swap ñ for n, etc\n\n    var from = \"ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;\";\n    var to = \"aaaaaeeeeeiiiiooooouuuunc------\";\n\n    for (var i = 0, l = from.length; i < l; i++) {\n      str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n    }\n\n    str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n    .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n    .replace(/-+/g, '-'); // collapse dashes\n\n    return str; // Trim - from end of text\n  }\n\n  const handleMouseMove = e => {\n    const {\n      left,\n      top,\n      width,\n      height\n    } = e.target.getBoundingClientRect();\n    const x = (e.pageX - left) / width * 100;\n    const y = (e.pageY - top) / height * 100;\n    setZoom(`${x}% ${y}%`);\n  };\n\n  const [imgIndex, setImgIndex] = useState(0);\n  const [countCart, setCountCart] = useState(1);\n  const [hover, setHover] = useState(false);\n  const [zoom, setZoom] = useState(`0% 0%`);\n  const width = 500;\n  const productSmall = useRef(null);\n  useEffect(() => {\n    if (hover === false) {\n      var interval = setInterval(() => {\n        setImgIndex(imgIndex => imgIndex + 1);\n      }, 5000);\n    }\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [hover]);\n  let slugSex = \"\";\n  let ratingList = \"\";\n  let product = \"\";\n  let totalRating = 0;\n\n  if (props.product) {\n    product = props.product;\n    slugSex = \"/\" + slugify(product.productSex);\n\n    if (imgIndex >= product.productImg.length) {\n      //infinity slider loop\n      // setProductImgBig(productImgBig.concat(props.productImg))\n      setImgIndex(0);\n    }\n\n    if (product.productImg.length > 4) {\n      if (imgIndex === 1 || imgIndex === 2) {\n        productSmall.current.style.transform = `translateY(0px)`;\n      } else if (imgIndex === product.productImg.length - 1) {\n        productSmall.current.style.transform = `translateY(-${(imgIndex - 5) * 110 + 50}px)`;\n      } else if (imgIndex === product.productImg.length - 2) {\n        productSmall.current.style.transform = `translateY(-${(imgIndex - 4) * 110 + 50}px)`;\n      } else if (imgIndex === product.productImg.length - 3) {\n        productSmall.current.style.transform = `translateY(-${(imgIndex - 3) * 110 + 50}px)`;\n      } else if (imgIndex > 2) {\n        productSmall.current.style.transform = `translateY(-${(imgIndex - 2) * 110}px)`;\n      } else {\n        if (productSmall.current) {\n          productSmall.current.style.transform = `translateY(0px)`;\n        }\n      }\n    } //Counting star vote\n\n\n    ratingList = product.productVote.map(a => a.ratingStar); // get all rating\n\n    totalRating = ratingList.reduce((a, b) => a + b, 0);\n    averageRating = totalRating / ratingList.length;\n  }\n\n  let averageRating = totalRating / ratingList.length;\n  const ratingStar = {\n    size: 12,\n    value: averageRating,\n    edit: false,\n    activeColor: \"#fda32a\",\n    color: \"#ddd\",\n    isHalf: true\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-breadcrumb flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"breadcrumb-item breadcrumb-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleRight,\n    className: \"breadcrumb-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: slugSex,\n    className: \"breadcrumb-item breadcrumb-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, product.productSex), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleRight,\n    className: \"breadcrumb-arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"breadcrumb-item breadcrumb-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, product.productName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-detail flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-gallery flex\",\n    onMouseEnter: () => {\n      setHover(true);\n    },\n    onMouseLeave: () => {\n      setHover(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-small\",\n    ref: productSmall,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, product.productImg && product.productImg.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: imgIndex === index ? \"product-small-item product-small-item-active\" : \"product-small-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item,\n      onClick: () => {\n        setImgIndex(index);\n      },\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-slider flex\",\n    onMouseMove: handleMouseMove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, product.productImg && product.productImg.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"product-big flex\",\n      style: {\n        transform: `translateX(-${width * imgIndex}px`,\n        backgroundImage: `url(${item})`,\n        backgroundPosition: `${zoom}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-big-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: index,\n      className: \"nodrag\",\n      style: {\n        width: `${width}px`\n      },\n      src: item,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 41\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"change-product left\",\n    onClick: () => {\n      if (imgIndex > 0) setImgIndex(imgIndex - 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"change-product right\",\n    onClick: () => {\n      if (imgIndex < product.productImg.length && product.productImg.length) setImgIndex(imgIndex + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, product.productName), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-des\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, product.productDes), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-vote\",\n    onClick: props.scrollOnLick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ReactStars, Object.assign({}, ratingStar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, \"(\", ratingList.length, \" customer reviews)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, product.productPrice), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-cart flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count-cart noselect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count-cart-item left flex-center\",\n    onClick: () => {\n      if (countCart > 1) setCountCart(countCart - 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faMinus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count-cart-item text flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: countCart,\n    onChange: e => setCountCart(Number(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"count-cart-item right flex-center\",\n    onClick: () => {\n      setCountCart(countCart + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faPlus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-addtocart flex-center btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCartPlus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 29\n    }\n  }, \"Add to cart\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-wishlist flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faHeart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-cate flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, \"Category:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  }, product.productCate)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-info-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/namduong/Documents/dev/shop-project/src/components/Product/ProductBody.js"],"names":["React","useEffect","useRef","useState","FontAwesomeIcon","faAngleRight","faCartPlus","faChevronLeft","faChevronRight","faHeart","faMinus","faPlus","Link","ReactStars","ProductBody","props","slugify","str","replace","toLowerCase","from","to","i","l","length","RegExp","charAt","handleMouseMove","e","left","top","width","height","target","getBoundingClientRect","x","pageX","y","pageY","setZoom","imgIndex","setImgIndex","countCart","setCountCart","hover","setHover","zoom","productSmall","interval","setInterval","clearInterval","slugSex","ratingList","product","totalRating","productSex","productImg","current","style","transform","productVote","map","a","ratingStar","reduce","b","averageRating","size","value","edit","activeColor","color","isHalf","productName","item","index","backgroundImage","backgroundPosition","productDes","scrollOnLick","productPrice","Number","productCate"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport '../../App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {  faAngleRight, faCartPlus, faChevronLeft, faChevronRight, faHeart, faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from 'react-router-dom';\nimport ReactStars from \"react-rating-stars-component\";\n\nexport default function ProductBody(props) {\n\n    function slugify(str){\n            str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n            str = str.toLowerCase();\n\n            // remove accents, swap ñ for n, etc\n            var from = \"ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;\";\n            var to   = \"aaaaaeeeeeiiiiooooouuuunc------\";\n            for (var i=0, l=from.length ; i<l ; i++) {\n                str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n            }\n\n            str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n                .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n                .replace(/-+/g, '-'); // collapse dashes\n\n            return str;    // Trim - from end of text\n    }\n    const handleMouseMove = (e) => {\n        const { left, top, width, height } = e.target.getBoundingClientRect();\n        const x = ((e.pageX - left) / width) * 100;\n        const y = ((e.pageY - top) / height) * 100;\n        setZoom(`${x}% ${y}%`);\n    };\n\n    const [imgIndex, setImgIndex] = useState(0);\n    const [countCart, setCountCart] = useState(1);\n    const [hover, setHover] = useState(false);\n    const [zoom, setZoom] = useState(`0% 0%`);\n    const width = 500;\n    const productSmall = useRef(null);\n\n    useEffect(() => {\n        if (hover === false) {\n            var interval = setInterval(() => {\n                setImgIndex(imgIndex => imgIndex + 1);\n            }, 5000);\n        }\n        return() => {\n            clearInterval(interval);\n        }\n    },[hover])\n\n    let slugSex = \"\";\n    let ratingList = \"\";\n    let product = \"\";\n    let totalRating = 0;\n    if (props.product) {\n        product = props.product;\n        slugSex = \"/\" + slugify(product.productSex);\n        if (imgIndex >= product.productImg.length) { //infinity slider loop\n            // setProductImgBig(productImgBig.concat(props.productImg))\n            setImgIndex(0);\n        }\n\n        if (product.productImg.length > 4) {\n            if (imgIndex === 1 || imgIndex === 2) {\n                productSmall.current.style.transform= `translateY(0px)`\n            } else if (imgIndex === product.productImg.length - 1) {\n                productSmall.current.style.transform= `translateY(-${(imgIndex-5) * 110 + 50}px)`\n            } else if (imgIndex === product.productImg.length - 2) {\n                productSmall.current.style.transform= `translateY(-${(imgIndex-4) * 110 + 50}px)`\n            } else if (imgIndex === product.productImg.length - 3) {\n                productSmall.current.style.transform= `translateY(-${(imgIndex-3) * 110 + 50}px)`\n            } else if (imgIndex > 2) {\n                productSmall.current.style.transform= `translateY(-${(imgIndex-2) * 110}px)`\n            } else {\n                if (productSmall.current) {\n                    productSmall.current.style.transform= `translateY(0px)`\n                }\n            }\n        }\n\n        //Counting star vote\n        ratingList = product.productVote.map(a => a.ratingStar); // get all rating\n        totalRating = ratingList.reduce((a, b) => a + b, 0)\n        averageRating = totalRating/ratingList.length;\n    }\n\n    let averageRating = totalRating/ratingList.length;\n\n    const ratingStar = {\n        size: 12,\n        value: averageRating,\n        edit: false,\n        activeColor: \"#fda32a\",\n        color: \"#ddd\",\n        isHalf: true\n    };\n\n    return(\n        <div className=\"ProductBody\">\n            <div className=\"product-breadcrumb flex\">\n                <Link to=\"/\" className=\"breadcrumb-item breadcrumb-link\">Home</Link>\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\n                <Link to={slugSex} className=\"breadcrumb-item breadcrumb-link\">{product.productSex}</Link>\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\n                <div className=\"breadcrumb-item breadcrumb-product\">{product.productName}</div>\n            </div>\n\n            <div className=\"product-detail flex\">\n                <div className=\"product-gallery flex\"\n                    onMouseEnter={()=> {setHover(true)}}\n                    onMouseLeave={()=> {setHover(false)}}>\n                    <div \n                        className=\"product-small\" ref={productSmall}\n                        >\n                        {product.productImg && product.productImg.map((item, index) => {\n                            return (\n                                <div \n                                    key={index}\n                                    className={imgIndex === index ? \"product-small-item product-small-item-active\" : \"product-small-item\"}>\n                                    <img \n                                        src={item}\n                                        onClick={()=>{ setImgIndex(index)}}\n                                        alt=\"\"\n                                        ></img>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <div\n                        className=\"product-slider flex\"\n                        onMouseMove={handleMouseMove}\n                        >\n                        {product.productImg && product.productImg.map((item, index) => {\n                            return (\n                                <div\n                                    key={index}\n                                    className=\"product-big flex\" \n                                    style={{ \n                                        transform: `translateX(-${width * imgIndex}px`,\n                                        backgroundImage: `url(${item})`,\n                                        backgroundPosition: `${zoom}`\n                                    }}>\n                                    <div className=\"product-big-item\">\n                                        <img \n                                            id={index}\n                                            className=\"nodrag\"\n                                            style={{ width: `${width}px`}}\n                                            src={item}\n                                            alt=\"\"\n                                            ></img>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                        <div \n                            className=\"change-product left\"\n                            onClick={()=> {\n                                if (imgIndex > 0) setImgIndex(imgIndex - 1)\n                            }}\n                            >\n                            <FontAwesomeIcon icon={faChevronLeft}></FontAwesomeIcon>\n                        </div>\n                        <div className=\"change-product right\"\n                            onClick={()=> {\n                                if (imgIndex < product.productImg.length && product.productImg.length) setImgIndex(imgIndex + 1)\n                            }}\n                            >\n                            <FontAwesomeIcon icon={faChevronRight}></FontAwesomeIcon>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"product-info-detail\">\n                    <div className=\"product-info-title\">\n                        {product.productName}\n                    </div>\n                    <div className=\"product-info-des\">\n                        {product.productDes}\n                    </div>\n                    <div \n                        className=\"product-info-vote\"\n                        onClick={props.scrollOnLick}\n                        >\n                        <ReactStars {...ratingStar} />\n                        <p>\n                            ({ratingList.length} customer reviews)\n                        </p>\n                    </div>\n                    <div className=\"product-info-price\">\n                        {product.productPrice}\n                    </div>\n                    <div className=\"product-info-cart flex\">\n                        <div className=\"count-cart noselect\">\n                            <div className=\"count-cart-item left flex-center\"\n                                onClick={() => { \n                                    if (countCart > 1) setCountCart(countCart-1) \n                                }}\n                                >\n                                <FontAwesomeIcon icon={faMinus}/>\n                            </div> \n                            <div className=\"count-cart-item text flex-center\">\n                                <form>\n                                    <input \n                                        type=\"text\" \n                                        value={countCart}\n                                        onChange={e => setCountCart(Number(e.target.value))}\n                                    />\n                                </form>\n                            </div>\n                            <div \n                                className=\"count-cart-item right flex-center\"\n                                onClick={() => { setCountCart(countCart+1) }}\n                                >\n                                <FontAwesomeIcon icon={faPlus}/>\n                            </div>\n                        </div>\n                        <div className=\"product-info-addtocart flex-center btn\">\n                            <FontAwesomeIcon icon={faCartPlus}/>\n                            <p>Add to cart</p>\n                        </div>\n                        <div \n                            className=\"product-info-wishlist flex-center\">\n                            <FontAwesomeIcon icon={faHeart}></FontAwesomeIcon>\n                        </div>\n                    </div>\n                    <div className=\"product-info-line\"></div>\n                    <div className=\"product-info-cate flex\">\n                        <p>Category:</p>\n                        <p>{product.productCate}</p>\n                    </div>\n                    <div className=\"product-info-line\"></div>\n                </div>\n            </div>\n            <div className=\"product-info-line\"></div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}